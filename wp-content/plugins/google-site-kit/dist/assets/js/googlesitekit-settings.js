!function(e){function t(t){for(var i,c,l=t[0],s=t[1],d=t[2],g=0,u=[];g<l.length;g++)c=l[g],n[c]&&u.push(n[c][0]),n[c]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);for(r&&r(t);u.length;)u.shift()();return o.push.apply(o,d||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],i=!0,c=1;c<a.length;c++){var l=a[c];0!==n[l]&&(i=!1)}i&&(o.splice(t--,1),e=__webpack_require__(__webpack_require__.s=a[0]))}return e}var i={},n={14:0},o=[];function __webpack_require__(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,__webpack_require__),a.l=!0,a.exports}__webpack_require__.m=e,__webpack_require__.c=i,__webpack_require__.d=function(e,t,a){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(__webpack_require__.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)__webpack_require__.d(a,i,function(t){return e[t]}.bind(null,i));return a},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var r=l;o.push([201,0,1]),a()}({0:function(e,t){e.exports=wp.i18n},1:function(e,t){e.exports=wp.element},10:function(e,t){e.exports=wp.hooks},11:function(e,t){e.exports=lodash},144:function(e,t,a){"use strict";var i=a(3),n=a.n(i),o=a(4),c=a.n(o),l=a(5),s=a.n(l),r=a(6),d=a.n(r),g=a(13),u=a.n(g),m=a(7),_=a.n(m),p=a(1),h=a(22),v=a(8),k=a.n(v),f=function(e){function t(e){var a;return n()(this,t),(a=s()(this,d()(t).call(this,e))).formFieldRef=Object(p.createRef)(),a.checkboxRef=Object(p.createRef)(),a}return _()(t,e),c()(t,[{key:"componentDidMount",value:function(){new h.e(this.formFieldRef.current).input=new h.c(this.checkboxRef.current)}},{key:"render",value:function(){var e=this.props,t=e.onChange,a=e.id,i=e.name,n=e.value,o=e.checked,c=e.disabled,l=e.children;return React.createElement("div",{className:"mdc-form-field",ref:this.formFieldRef},React.createElement("div",{className:"\n\t\t\t\t\t\tmdc-checkbox\n\t\t\t\t\t\t".concat(c?"mdc-checkbox--disabled":"","\n\t\t\t\t\t"),ref:this.checkboxRef},React.createElement("input",{className:"mdc-checkbox__native-control",type:"checkbox",id:a,name:i,value:n,checked:o,disabled:c,onChange:t}),React.createElement("div",{className:"mdc-checkbox__background"},React.createElement("svg",{className:"mdc-checkbox__checkmark",viewBox:"0 0 24 24"},React.createElement("path",{className:"mdc-checkbox__checkmark-path",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"})),React.createElement("div",{className:"mdc-checkbox__mixedmark"}))),React.createElement("label",{htmlFor:a},l))}}]),t}(p.Component);f.propTypes={onChange:k.a.func.isRequired,id:k.a.string.isRequired,name:k.a.string.isRequired,value:k.a.string.isRequired,checked:k.a.bool,disabled:k.a.bool,children:k.a.node.isRequired},f.defaultProps={checked:!1,disabled:!1};var b=f,y=a(35),E=a.n(y),R=a(0),O=function(e){function t(e){var a;return n()(this,t),(a=s()(this,d()(t).call(this,e))).state={scriptOnPage:!!window.googlesitekitTrackingEnabled,optIn:!!window.googlesitekitTrackingEnabled,error:!1},a.handleOptIn=a.handleOptIn.bind(u()(a)),a}return _()(t,e),c()(t,[{key:"handleOptIn",value:function(e){var t=this,a=e.target.checked,i={googlesitekit_tracking_optin:a};E()({path:"/wp/v2/settings",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(i),method:"POST"}).then((function(){if(window.googlesitekitTrackingEnabled=!!a,a&&!t.state.scriptOnPage){var e=window.document;if(!e)return;e.body.insertAdjacentHTML("beforeend",'\n\t\t\t\t\t\t<script async src="https://www.googletagmanager.com/gtag/js?id='.concat(googlesitekit.admin.trackingID,'"><\/script>\n\t\t\t\t\t')),e.body.insertAdjacentHTML("beforeend","\n\t\t\t\t\t\t<script>\n\t\t\t\t\t\t\twindow.dataLayer = window.dataLayer || [];\n\t\t\t\t\t\t\tfunction gtag(){dataLayer.push(arguments);}\n\t\t\t\t\t\t\tgtag('js', new Date());\n\t\t\t\t\t\t\tgtag('config', '".concat(googlesitekit.admin.trackingID,"');\n\t\t\t\t\t\t<\/script>\n\t\t\t\t\t"))}t.setState({optIn:!!a,error:!1,scriptOnPage:!0})})).catch((function(a){t.setState({optIn:!e.target.checked,error:{errorCode:a.code,errorMsg:a.message}})}))}},{key:"render",value:function(){var e=this.state,t=e.optIn,a=e.error,i=this.props,n=i.id,o=i.name;return React.createElement("div",{className:"googlesitekit-opt-in"},React.createElement(b,{id:n,name:o,value:"1",checked:t,onChange:this.handleOptIn},Object(R.__)("Help us improve the Site Kit plugin by allowing tracking of anonymous usage stats. All data are treated in accordance with ","google-site-kit"),React.createElement("a",{href:"https://policies.google.com/privacy",target:"_blank",rel:"noopener noreferrer"},Object(R.__)("Google Privacy Policy","google-site-kit")),"."),a&&React.createElement("div",{className:"googlesitekit-error-text"},a.errorMsg))}}]),t}(p.Component);O.propTypes={id:k.a.string,name:k.a.string},O.defaultProps={id:"googlesitekit-opt-in",name:"optIn"};t.a=O},146:function(e,t,a){"use strict";a.d(t,"a",(function(){return O}));var i=a(12),n=a.n(i),o=a(3),c=a.n(o),l=a(4),s=a.n(l),r=a(5),d=a.n(r),g=a(6),u=a.n(g),m=a(13),_=a.n(m),p=a(7),h=a.n(p),v=a(1),k=a(9),f=a(2),b=a(67),y=a(0),E=a(14),R=a(80),O=function(e){function t(e){var a;return c()(this,t),(a=d()(this,u()(t).call(this,e))).state={dialogActive:!1},a.handleDialog=a.handleDialog.bind(_()(a)),a.handleUnlinkConfirm=a.handleUnlinkConfirm.bind(_()(a)),a.handleCloseModal=a.handleCloseModal.bind(_()(a)),a}return h()(t,e),s()(t,[{key:"componentDidMount",value:function(){window.addEventListener("keyup",this.handleCloseModal,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keyup",this.handleCloseModal)}},{key:"handleUnlinkConfirm",value:function(){return n.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.a.awrap(k.c.set(k.a,"site","reset"));case 2:Object(f.d)(),this.handleDialog(),document.location=Object(f.n)("googlesitekit-splash",{notification:"reset_success"});case 5:case"end":return e.stop()}}),null,this)}},{key:"handleCloseModal",value:function(e){27===e.keyCode&&this.setState({dialogActive:!1})}},{key:"handleDialog",value:function(){this.setState((function(e){return{dialogActive:!e.dialogActive}}))}},{key:"render",value:function(){var e=this,t=this.props.children,a=this.state.dialogActive;return React.createElement(v.Fragment,null,React.createElement(E.a,{className:"googlesitekit-reset-button",onClick:function(){return e.setState({dialogActive:!0})},inherit:!0},t||Object(y.__)("Reset Site Kit","google-site-kit")),React.createElement(R.a,null,React.createElement(b.a,{dialogActive:a,handleConfirm:this.handleUnlinkConfirm,handleDialog:this.handleDialog,title:Object(y.__)("Reset Site Kit","google-site-kit"),subtitle:Object(y.__)("Resetting this site will remove access to all services. After disconnecting, you will need to re-authorize your access to restore service.","google-site-kit"),confirmButton:Object(y.__)("Reset","google-site-kit"),provides:[]})))}}]),t}(v.Component)},18:function(e,t){e.exports=React},201:function(e,t,a){"use strict";a.r(t);var i=a(3),n=a.n(i),o=a(4),c=a.n(o),l=a(5),s=a.n(l),r=a(6),d=a.n(r),g=a(7),u=a.n(g),m=a(1),_=a(13),p=a.n(_),h=a(27),v=a.n(h),k=a(17),f=a(26),b=a(2),y=a(11),E=a(0),R=a(10),O=a(12),w=a.n(O),j=a(8),N=a.n(j),S=a(14),C=a(29),M=a(9),x=a(20),D=a(62),A=a(53),T=a(54),q=function(e){function t(e){var a;return n()(this,t),(a=s()(this,d()(t).call(this,e))).state={isSaving:!1,active:e.active},a.activateOrDeactivate=a.activateOrDeactivate.bind(p()(a)),a}return u()(t,e),c()(t,[{key:"activateOrDeactivate",value:function(){var e,t;return w.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e=this.state.active,t=this.props.slug,this.setState({isSaving:!0}),a.next=6,w.a.awrap(Object(b.a)(M.c,t,!e));case 6:return a.next=8,w.a.awrap(Object(b.u)());case 8:window.location=Object(b.m)(t,!0),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(0),Object(b.w)(T.a,{id:"activate-module-error",title:Object(E.__)("Internal Server Error","google-site-kit"),description:a.t0.message,format:"small",type:"win-error"}),this.setState({isSaving:!1});case 15:case"end":return a.stop()}}),null,this,[[0,11]])}},{key:"render",value:function(){var e=this.state.isSaving,t=this.props,a=t.slug,i=t.name,n=t.description,o=t.showLink,c=!1,l=googlesitekit.modules;l[a].required.length&&l[a].required.forEach((function(e){l[e].setupComplete||(c=!0)}));return React.createElement("div",{className:"\n\t\t\t\tgooglesitekit-settings-connect-module\n\t\t\t\tgooglesitekit-settings-connect-module--".concat(a,"\n\t\t\t\t").concat(c?"googlesitekit-settings-connect-module--disabled":"","\n\t\t\t"),key:a},React.createElement("div",{className:"googlesitekit-settings-connect-module__switch"},React.createElement(D.a,{isSaving:e})),React.createElement("div",{className:"googlesitekit-settings-connect-module__logo"},c?Object(b.q)("".concat(a,"-disabled")):Object(b.q)(a)),React.createElement("h3",{className:" googlesitekit-subheading-1 googlesitekit-settings-connect-module__title "},i),React.createElement("p",{className:"googlesitekit-settings-connect-module__text"},n),React.createElement(A.a,{slug:a,context:"modules-list"}),Object(R.applyFilters)("googlesitekit.SetupModuleShowLink",o,a)&&React.createElement("p",{className:"googlesitekit-settings-connect-module__cta"},React.createElement(S.a,{onClick:this.activateOrDeactivate,href:"",inherit:!0,disabled:c,arrow:!0},c?Object(E.sprintf)(Object(E.__)("Setup Analytics to gain access to %s","google-site-kit"),i):Object(E.sprintf)(Object(E.__)("Set up %s","google-site-kit"),i))))}}]),t}(m.Component);q.propTypes={slug:N.a.string,name:N.a.string,description:N.a.string,homepage:N.a.string,active:N.a.bool,onActive:N.a.func},q.defaultProps={slug:"",name:"",description:"",homepage:"",active:!1};var P=q,I=a(67),F=function(e){function t(){return n()(this,t),s()(this,d()(t).apply(this,arguments))}return u()(t,e),c()(t,[{key:"render",value:function(){return null}}]),t}(m.Component),L=a(21),U=function(e){function t(){return n()(this,t),s()(this,d()(t).apply(this,arguments))}return u()(t,e),c()(t,[{key:"render",value:function(){var e=this.props.slug;return React.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12"},React.createElement(A.a,{slug:e,context:"settings"}),Object(E.__)("Setup incomplete: ","google-site-kit"),React.createElement(S.a,{className:"googlesitekit-settings-module__edit-button",onClick:function(){window.location=Object(b.m)(e,!0)},inherit:!0},Object(E.__)("continue module setup","google-site-kit")))}}]),t}(m.Component),B=Object(L.a)("googlesitekit.ModuleSetupIncomplete")(U),K=function(e){function t(){return n()(this,t),s()(this,d()(t).apply(this,arguments))}return u()(t,e),c()(t,[{key:"render",value:function(){var e=this.props.compress;return React.createElement("div",{className:"\n\t\t\t\tgooglesitekit-overlay\n\t\t\t\t".concat(e?"googlesitekit-overlay--compress":"","\n\t\t\t")},React.createElement("div",{className:"googlesitekit-overlay__wrapper"},React.createElement("div",{className:"googlesitekit-overlay__icon"},React.createElement(x.a,{id:"lock",width:"22",height:"30"})),React.createElement("h3",{className:" googlesitekit-heading-2 googlesitekit-overlay__title "},Object(E.__)("Section locked while editing","google-site-kit"))))}}]),t}(m.Component);K.propTypes={compress:N.a.bool},K.defaultProps={compress:!1};var G=K,H=function(e){function t(e){var a;n()(this,t),a=s()(this,d()(t).call(this,e));var i=e.slug,o=googlesitekit.modules[i].setupComplete;return a.state={isSaving:!1,active:e.active,setupComplete:o,dialogActive:!1},a.deactivate=a.deactivate.bind(p()(a)),a.activateOrDeactivate=a.activateOrDeactivate.bind(p()(a)),a.handleDialog=a.handleDialog.bind(p()(a)),a.handleCloseModal=a.handleCloseModal.bind(p()(a)),a.handleConfirmRemoveModule=a.handleConfirmRemoveModule.bind(p()(a)),a}return u()(t,e),c()(t,[{key:"componentDidMount",value:function(){window.addEventListener("keyup",this.handleCloseModal,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keyup",this.handleCloseModal)}},{key:"activateOrDeactivate",value:function(){var e,t;return w.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e=this.state.active,t=!e,this.setState({isSaving:!0}),a.next=6,w.a.awrap(Object(b.a)(M.c,this.props.slug,t));case 6:return a.next=8,w.a.awrap(Object(b.u)());case 8:!1===t&&M.c.invalidateCacheGroup(M.b,this.props.slug),this.setState({isSaving:!1,active:t}),window.location=Object(b.m)(this.props.slug,!1),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(0),Object(b.w)(T.a,{id:"activate-module-error",title:Object(E.__)("Internal Server Error","google-site-kit"),description:a.t0.message,format:"small",type:"win-error"}),this.setState({isSaving:!1});case 17:case"end":return a.stop()}}),null,this,[[0,13]])}},{key:"deactivate",value:function(){this.props.autoActivate||this.activateOrDeactivate()}},{key:"handleDialog",value:function(){this.setState((function(e){return{dialogActive:!e.dialogActive}}))}},{key:"handleConfirmRemoveModule",value:function(){this.deactivate()}},{key:"handleCloseModal",value:function(e){27===e.keyCode&&this.setState({dialogActive:!1})}},{key:"getDependentModules",value:function(){var e=this.props.slug,t=googlesitekit.modules,a={};return t[e].dependants&&t[e].dependants.forEach((function(e){t[e]&&(a[e]=t[e])})),a}},{key:"render",value:function(){var e=this.state,t=e.active,a=e.setupComplete,i=e.dialogActive,n=this.props,o=n.name,c=n.slug,l=n.homepage,s=n.isEditing,r=n.isOpen,d=n.handleAccordion,g=n.handleEdit,u=n.description,_=n.hasSettings,p=n.autoActivate,h=n.provides,v=n.isSaving,k=n.screenID,f=n.error,O="".concat(c,"-module"),w=Object(R.applyFilters)("googlesitekit.Connected-".concat(c),a),j=w?"googlesitekit-settings-module__status-icon--connected":"googlesitekit-settings-module__status-icon--not-connected",N=Object(E.sprintf)(Object(E.__)("By disconnecting the %s module from Site Kit, you will no longer have access to:","google-site-kit"),o),M=v==="".concat(c,"-module"),A=Object(L.a)("googlesitekit.ModuleSettingsDetails-".concat(c))(F),T=0<Object(y.filter)(s,(function(e){return e})).length,q=Object(y.map)(this.getDependentModules(),"name").join(", "),U="pagespeed-insights"===c,K=Object(E.__)("Close","google-site-kit");return _&&a&&(M?K=Object(E.__)("Saving...","google-site-kit"):!1===U&&(K=Object(E.__)("Confirm Changes","google-site-kit"))),React.createElement(m.Fragment,null,t?React.createElement("div",{className:"\n\t\t\t\t\t\t\tgooglesitekit-settings-module\n\t\t\t\t\t\t\tgooglesitekit-settings-module--".concat(c,"\n\t\t\t\t\t\t\tgooglesitekit-settings-module--active\n\t\t\t\t\t\t\t").concat(f&&T&&s[O]?"googlesitekit-settings-module--error":"","\n\t\t\t\t\t\t"),key:O},T&&!s[O]&&React.createElement(G,{compress:!r}),React.createElement("button",{className:"\n\t\t\t\t\t\t\t\tgooglesitekit-settings-module__header\n\t\t\t\t\t\t\t\t".concat(r?"googlesitekit-settings-module__header--open":"","\n\t\t\t\t\t\t\t"),id:"googlesitekit-settings-module__header--".concat(c),type:"button",role:"tab","aria-selected":!!r,"aria-expanded":!!r,"aria-controls":"googlesitekit-settings-module__content--".concat(c),onClick:d.bind(null,c)},f&&T&&s[O]&&React.createElement("div",{className:"googlesitekit-settings-module__error"},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},Object(E.__)("Error:","google-site-kit")," ",f.errorMsg)))),React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone "},React.createElement("h3",{className:" googlesitekit-heading-4 googlesitekit-settings-module__title "},Object(b.q)(c,!1,"24","26","googlesitekit-settings-module__title-icon"),o)),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone mdc-layout-grid__cell--align-middle mdc-layout-grid__cell--align-right-tablet "},React.createElement("p",{className:"googlesitekit-settings-module__status"},w?Object(E.sprintf)(Object(E.__)("%s is connected","google-site-kit"),o):Object(E.sprintf)(Object(E.__)("%s is not connected","google-site-kit"),o),React.createElement("span",{className:"googlesitekit-settings-module__status-icon ".concat(j," ")},React.createElement("span",{className:"screen-reader-text"},w?Object(E.__)("Connected","google-site-kit"):Object(E.__)("Not Connected","google-site-kit")))))))),React.createElement("div",{className:"\n\t\t\t\t\t\t\t\tgooglesitekit-settings-module__content\n\t\t\t\t\t\t\t\t".concat(r?"googlesitekit-settings-module__content--open":"","\n\t\t\t\t\t\t\t"),id:"googlesitekit-settings-module__content--".concat(c),role:"tabpanel","aria-hidden":!r,"aria-labelledby":"googlesitekit-settings-module__header--".concat(c)},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},a&&React.createElement(m.Fragment,null,React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(A,{module:O,isEditing:s[O],isOpen:r}))),_&&!a&&React.createElement(B,{screenID:k,slug:c}))),React.createElement("footer",{className:"googlesitekit-settings-module__footer"},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone "},s[O]||M?React.createElement(m.Fragment,null,React.createElement(C.a,{onClick:function(){return g(O,a?"confirm":"cancel",U)},disabled:M,id:_&&a?"confirm-changes-".concat(c):"close-".concat(c)},K),React.createElement(D.a,{isSaving:M}),_&&React.createElement(S.a,{className:"googlesitekit-settings-module__footer-cancel",onClick:function(){return g(O,"cancel")},inherit:!0},Object(E.__)("Cancel","google-site-kit"))):_&&React.createElement(S.a,{className:"googlesitekit-settings-module__edit-button",onClick:function(){g(O,"edit")},inherit:!0},Object(E.__)("Edit","google-site-kit"),React.createElement(x.a,{className:"googlesitekit-settings-module__edit-button-icon",id:"pencil",width:"10",height:"10"}))),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone mdc-layout-grid__cell--align-middle mdc-layout-grid__cell--align-right-desktop "},s[O]&&!p&&React.createElement(S.a,{className:"googlesitekit-settings-module__remove-button",onClick:this.handleDialog,inherit:!0,danger:!0},Object(E.sprintf)(Object(E.__)("Disconnect %s from Site Kit","google-site-kit"),o),React.createElement(x.a,{className:"googlesitekit-settings-module__remove-button-icon",id:"trash",width:"13",height:"13"})),!s[O]&&React.createElement(S.a,{href:l,className:"googlesitekit-settings-module__cta-button",inherit:!0,external:!0},Object(E.sprintf)(Object(E.__)("See full details in %s","google-site-kit"),o))))))),React.createElement(I.a,{dialogActive:i,handleDialog:this.handleDialog,title:Object(E.sprintf)(Object(E.__)("Disconnect %s from Site Kit?","google-site-kit"),o),subtitle:N,onKeyPress:this.handleCloseModal,provides:h,handleConfirm:this.handleConfirmRemoveModule,dependentModules:!!q&&Object(E.sprintf)(Object(E.__)("these active modules depend on %s and will also be disconnected: ","google-site-kit"),o)+q})):React.createElement(m.Fragment,null,React.createElement(P,{key:"".concat(c,"-module"),slug:c,name:o,description:u,active:t,showLink:!0})))}}]),t}(m.Component);H.propTypes={name:N.a.string,slug:N.a.string,homepage:N.a.string,isEditing:N.a.object,handleEdit:N.a.func,handleDialog:N.a.func,autoActivate:N.a.bool,hasSettings:N.a.bool,required:N.a.array,active:N.a.bool},H.defaultProps={name:"",slug:"",homepage:"",isEditing:{},handleEdit:null,handleDialog:null,active:!1};var J=H;function W(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?W(a,!0).forEach((function(t){v()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):W(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Q=function(e){function t(e){var a;return n()(this,t),(a=s()(this,d()(t).call(this,e))).state={error:!1,isEditing:{},openModules:{},isSaving:!1},a.mapToModule=a.mapToModule.bind(p()(a)),a.updateModulesList=a.updateModulesList.bind(p()(a)),a.handleButtonAction=a.handleButtonAction.bind(p()(a)),a.handleAccordion=a.handleAccordion.bind(p()(a)),a}return u()(t,e),c()(t,[{key:"componentDidMount",value:function(){googlesitekit.editmodule&&googlesitekit.modules[googlesitekit.editmodule].active&&this.handleButtonAction("".concat(googlesitekit.editmodule,"-module"),"edit")}},{key:"updateModulesList",value:function(){this.forceUpdate()}},{key:"handleAccordion",value:function(e,t){t.target.closest(".googlesitekit-settings-module__header").focus(),this.setState((function(t){return{openModules:v()({},e,!t.openModules[e])}}))}},{key:"handleButtonAction",value:function(e,t){var a=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("confirm"===t){var n=Object(R.applyFilters)("googlekit.SettingsConfirmed",!1,e);if(i)return void this.setState((function(t){return{isSaving:!1,error:!1,isEditing:z({},t.isEditing,v()({},e,!t.isEditing[e]))}}));if(this.setState({isSaving:e}),!n)return void Object(b.d)();n.then((function(){Object(b.d)(),a.setState((function(t){return{isSaving:!1,error:!1,isEditing:z({},t.isEditing,v()({},e,!t.isEditing[e]))}}))})).catch((function(e){a.setState({isSaving:!1,error:{errorCode:e.code,errorMsg:e.message}})}))}else this.setState((function(t){return{isEditing:z({},t.isEditing,v()({},e,!t.isEditing[e])),error:!1}}))}},{key:"settingsModuleComponent",value:function(e,t){var a=googlesitekit.modules[e.slug].provides,i=this.state,n=i.isEditing,o=i.openModules,c=i.error,l=o[e.slug]||!1;return React.createElement(J,{key:e.slug+"-module",slug:e.slug,name:e.name,description:e.description,homepage:e.homepage,learnmore:e.learnMore,active:e.active,hasSettings:e.hasSettings,autoActivate:e.autoActivate,updateModulesList:this.updateModulesList,handleEdit:this.handleButtonAction,handleConfirm:!0,isEditing:n,isOpen:l,handleAccordion:this.handleAccordion,handleDialog:this.handleDialog,provides:a,isSaving:t,screenID:e.screenID,error:c})}},{key:"mapToModule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.state.isSaving;return t?Object(y.map)(e,function(e){return React.createElement(m.Fragment,{key:e.slug+"-module-wrapper"},this.settingsModuleComponent(e,a))}.bind(this)):Object(y.map)(e,function(e){return React.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-4",key:e.slug+"-module-wrapper"},this.settingsModuleComponent(e,a))}.bind(this))}},{key:"render",value:function(){var e=this.state.isEditing,t=this.props.activeTab,a=0<Object(y.filter)(e,(function(e){return e})).length;if(!window.googlesitekit||!window.googlesitekit.modules)return null;var i=Object(y.filter)(window.googlesitekit.modules,(function(e){return!e.internal})),n=this.mapToModule(Object(y.sortBy)(Object(y.filter)(i,(function(e){return e.active})),"sort"),!0),o=this.mapToModule(Object(y.sortBy)(Object(y.filter)(i,{active:!1}),"sort")),c=0<o.length;return React.createElement(m.Fragment,null,0<n.length&&0===t&&React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(k.a,null,n)),1===t&&c&&React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(k.a,{header:!0,title:Object(E.__)("Connect More Services to Gain More Insights","google-site-kit"),relative:!0},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},0<o.length&&o)),a&&React.createElement(G,null))),1===t&&!c&&React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(f.a,{id:"no-more-modules",title:Object(E.__)("Congrats, you’ve connected all services!","google-site-kit"),description:Object(E.__)("We’re working on adding new services to Site Kit by Google all the time, so please check back in the future.","google-site-kit"),format:"small",smallImage:"".concat(googlesitekit.admin.assetsRoot,"images/thumbs-up.png"),type:"win-success"})))}}]),t}(m.Component),V=a(44),X=a(47),Y=a(70),Z=a.n(Y),$=a(167),ee=a.n($),te=a(144),ae=a(146),ie=function(e){function t(){var e;n()(this,t),e=s()(this,d()(t).call(this));var a=googlesitekit.admin.userData,i=a.email,o=void 0===i?"":i,c=a.picture,l=void 0===c?"":c,r=a.name,g=void 0===r?"":r;return e.state={data:{email:o,img:l,user:g}},e}return u()(t,e),c()(t,[{key:"render",value:function(){return React.createElement(m.Fragment,null,React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(k.a,null,React.createElement("div",{className:" googlesitekit-settings-module googlesitekit-settings-module--active "},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone "},React.createElement("h3",{className:" googlesitekit-heading-4 googlesitekit-settings-module__title "},Object(E.__)("Plugin Status","google-site-kit"))),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone mdc-layout-grid__cell--align-middle mdc-layout-grid__cell--align-right-tablet "}),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement("div",{className:"googlesitekit-settings-module__meta-items"},React.createElement("p",{className:"googlesitekit-settings-module__status"},Object(E.__)("Site Kit is connected","google-site-kit"),React.createElement("span",{className:" googlesitekit-settings-module__status-icon googlesitekit-settings-module__status-icon--connected "},React.createElement("span",{className:"screen-reader-text"},Object(E.__)("Connected","google-site-kit")))))))),React.createElement("footer",{className:"googlesitekit-settings-module__footer"},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone "},React.createElement(ae.a,null)))))))),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(k.a,{header:!0,title:Object(E.__)("Tracking","google-site-kit"),className:"googlesitekit-settings-meta",fill:!0},React.createElement("div",{className:" googlesitekit-settings-module googlesitekit-settings-module--active "},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement("div",{className:"googlesitekit-settings-module__meta-items"},React.createElement("div",{className:" googlesitekit-settings-module__meta-item googlesitekit-settings-module__meta-item--nomargin "},React.createElement(te.a,null))))))))))}}]),t}(m.Component),ne=a(43),oe=function(e){function t(e){var a;n()(this,t),a=s()(this,d()(t).call(this,e));var i=window.location.hash.replace("#","");return a.state={activeTab:i?Number(i):0},a.handleTabUpdate=a.handleTabUpdate.bind(p()(a)),a}return u()(t,e),c()(t,[{key:"handleTabUpdate",value:function(e){var t=-1===e?0:e;window.location.hash=t,this.setState({activeTab:t})}},{key:"render",value:function(){var e=this.state.activeTab;return React.createElement(m.Fragment,null,React.createElement(V.a,null),React.createElement("div",{className:"googlesitekit-module-page"},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12"},React.createElement(X.a,{title:Object(E.__)("Settings","google-site-kit")})),React.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12"},React.createElement(k.a,null,React.createElement(ee.a,{activeIndex:e,handleActiveIndexUpdate:this.handleTabUpdate},React.createElement(Z.a,null,React.createElement("span",{className:"mdc-tab__text-label"},Object(E.__)("Connected Services","google-site-kit"))),React.createElement(Z.a,null,React.createElement("span",{className:"mdc-tab__text-label"},Object(E.__)("Connect More Services","google-site-kit"))),React.createElement(Z.a,null,React.createElement("span",{className:"mdc-tab__text-label"},Object(E.__)("Admin Settings","google-site-kit")))))),(0===e||1===e)&&React.createElement(Q,{activeTab:e}),2===e&&React.createElement(m.Fragment,null,React.createElement(ie,null)),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 mdc-layout-grid__cell--align-right "},React.createElement(ne.a,null))))))}}]),t}(m.Component),ce=a(39),le=a.n(ce),se=function(e){function t(e){var a;return n()(this,t),(a=s()(this,d()(t).call(this,e))).state={hasError:!1},Object(E.setLocaleData)(googlesitekit.locale,"google-site-kit"),a}return u()(t,e),c()(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0,error:e,info:t})}},{key:"render",value:function(){var e=this.state,t=e.hasError,a=e.error,i=e.info;return t?React.createElement(f.a,{id:"googlesitekit-error",key:"googlesitekit-error",title:a,description:i.componentStack,dismiss:"",isDismissable:!1,format:"small",type:"win-error"}):React.createElement(oe,null)}}]),t}(m.Component);le()((function(){var e=document.getElementById("googlesitekit-settings-wrapper");null!==e&&(Object(m.render)(React.createElement(se,null),e),Object(R.doAction)("googlesitekit.moduleLoaded","Settings"))}))},35:function(e,t){e.exports=wp.apiFetch},36:function(e,t){e.exports=wp.url},39:function(e,t){e.exports=wp.domReady},50:function(e,t){e.exports=ReactDOM},59:function(e,t){e.exports=wp.compose}});