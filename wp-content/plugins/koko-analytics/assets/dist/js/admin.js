!function(t){var e={};function n(a){if(e[a])return e[a].exports;var o=e[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=37)}([function(t,e,n){"use strict";n.r(e),n.d(e,"render",(function(){return I})),n.d(e,"hydrate",(function(){return L})),n.d(e,"createElement",(function(){return m})),n.d(e,"h",(function(){return m})),n.d(e,"Fragment",(function(){return b})),n.d(e,"createRef",(function(){return g})),n.d(e,"isValidElement",(function(){return o})),n.d(e,"Component",(function(){return v})),n.d(e,"cloneElement",(function(){return W})),n.d(e,"createContext",(function(){return Y})),n.d(e,"toChildArray",(function(){return x})),n.d(e,"__u",(function(){return A})),n.d(e,"options",(function(){return a}));var a,o,r,i,s,c,u,l={},f=[],d=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function h(t,e){for(var n in e)t[n]=e[n];return t}function p(t){var e=t.parentNode;e&&e.removeChild(t)}function m(t,e,n){var a,o,r,i=arguments,s={};for(r in e)"key"==r?a=e[r]:"ref"==r?o=e[r]:s[r]=e[r];if(arguments.length>3)for(n=[n],r=3;r<arguments.length;r++)n.push(i[r]);if(null!=n&&(s.children=n),"function"==typeof t&&null!=t.defaultProps)for(r in t.defaultProps)void 0===s[r]&&(s[r]=t.defaultProps[r]);return y(t,s,a,o,null)}function y(t,e,n,o,r){var i={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r};return null==r&&(i.__v=i),null!=a.vnode&&a.vnode(i),i}function g(){return{current:null}}function b(t){return t.children}function v(t,e){this.props=t,this.context=e}function w(t,e){if(null==e)return t.__?w(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?w(t):null}function k(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return k(t)}}function _(t){(!t.__d&&(t.__d=!0)&&r.push(t)&&!O.__r++||s!==a.debounceRendering)&&((s=a.debounceRendering)||i)(O)}function O(){for(var t;O.__r=r.length;)t=r.sort((function(t,e){return t.__v.__b-e.__v.__b})),r=[],t.some((function(t){var e,n,a,o,r,i,s;t.__d&&(i=(r=(e=t).__v).__e,(s=e.__P)&&(n=[],(a=h({},r)).__v=a,o=P(s,r,a,e.__n,void 0!==s.ownerSVGElement,null,n,null==i?w(r):i),N(n,r),o!=i&&k(r)))}))}function D(t,e,n,a,o,r,i,s,c,u){var d,h,m,g,v,k,_,O=a&&a.__k||f,D=O.length;for(c==l&&(c=null!=i?i[0]:D?w(a,0):null),n.__k=[],d=0;d<e.length;d++)if(null!=(g=n.__k[d]=null==(g=e[d])||"boolean"==typeof g?null:"string"==typeof g||"number"==typeof g?y(null,g,null,null,g):Array.isArray(g)?y(b,{children:g},null,null,null):null!=g.__e||null!=g.__c?y(g.type,g.props,g.key,null,g.__v):g)){if(g.__=n,g.__b=n.__b+1,null===(m=O[d])||m&&g.key==m.key&&g.type===m.type)O[d]=void 0;else for(h=0;h<D;h++){if((m=O[h])&&g.key==m.key&&g.type===m.type){O[h]=void 0;break}m=null}v=P(t,g,m=m||l,o,r,i,s,c,u),(h=g.ref)&&m.ref!=h&&(_||(_=[]),m.ref&&_.push(m.ref,null,g),_.push(h,g.__c||v,g)),null!=v?(null==k&&(k=v),c=j(t,g,m,O,i,v,c),u||"option"!=n.type?"function"==typeof n.type&&(n.__d=c):t.value=""):c&&m.__e==c&&c.parentNode!=t&&(c=w(m))}if(n.__e=k,null!=i&&"function"!=typeof n.type)for(d=i.length;d--;)null!=i[d]&&p(i[d]);for(d=D;d--;)null!=O[d]&&A(O[d],O[d]);if(_)for(d=0;d<_.length;d++)E(_[d],_[++d],_[++d])}function x(t,e){return e=e||[],null==t||"boolean"==typeof t||(Array.isArray(t)?t.some((function(t){x(t,e)})):e.push(t)),e}function j(t,e,n,a,o,r,i){var s,c,u;if(void 0!==e.__d)s=e.__d,e.__d=void 0;else if(o==n||r!=i||null==r.parentNode)t:if(null==i||i.parentNode!==t)t.appendChild(r),s=null;else{for(c=i,u=0;(c=c.nextSibling)&&u<a.length;u+=2)if(c==r)break t;t.insertBefore(r,i),s=i}return void 0!==s?s:r.nextSibling}function M(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]=null==n?"":"number"!=typeof n||d.test(e)?n:n+"px"}function T(t,e,n,a,o){var r,i;if(o&&"className"==e&&(e="class"),"style"===e)if("string"==typeof n)t.style=n;else{if("string"==typeof a&&(t.style=a=""),a)for(e in a)n&&e in n||M(t.style,e,"");if(n)for(e in n)a&&n[e]===a[e]||M(t.style,e,n[e])}else"o"===e[0]&&"n"===e[1]?(r=e!==(e=e.replace(/Capture$/,"")),(i=e.toLowerCase())in t&&(e=i),e=e.slice(2),t.l||(t.l={}),t.l[e]=n,n?a||t.addEventListener(e,C,r):t.removeEventListener(e,C,r)):"list"!==e&&"tagName"!==e&&"form"!==e&&"type"!==e&&"size"!==e&&"download"!==e&&"href"!==e&&!o&&e in t?t[e]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==e&&(e!==(e=e.replace(/xlink:?/,""))?null==n||!1===n?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),n):null==n||!1===n&&!/^ar/.test(e)?t.removeAttribute(e):t.setAttribute(e,n))}function C(t){this.l[t.type](a.event?a.event(t):t)}function S(t,e,n){var a,o;for(a=0;a<t.__k.length;a++)(o=t.__k[a])&&(o.__=t,o.__e&&("function"==typeof o.type&&o.__k.length>1&&S(o,e,n),e=j(n,o,o,t.__k,null,o.__e,e),"function"==typeof t.type&&(t.__d=e)))}function P(t,e,n,o,r,i,s,c,u){var l,f,d,p,m,y,g,w,k,_,O,x=e.type;if(void 0!==e.constructor)return null;(l=a.__b)&&l(e);try{t:if("function"==typeof x){if(w=e.props,k=(l=x.contextType)&&o[l.__c],_=l?k?k.props.value:l.__:o,n.__c?g=(f=e.__c=n.__c).__=f.__E:("prototype"in x&&x.prototype.render?e.__c=f=new x(w,_):(e.__c=f=new v(w,_),f.constructor=x,f.render=U),k&&k.sub(f),f.props=w,f.state||(f.state={}),f.context=_,f.__n=o,d=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=x.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=h({},f.__s)),h(f.__s,x.getDerivedStateFromProps(w,f.__s))),p=f.props,m=f.state,d)null==x.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==x.getDerivedStateFromProps&&w!==p&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(w,_),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(w,f.__s,_)||e.__v===n.__v){f.props=w,f.state=f.__s,e.__v!==n.__v&&(f.__d=!1),f.__v=e,e.__e=n.__e,e.__k=n.__k,f.__h.length&&s.push(f),S(e,c,t);break t}null!=f.componentWillUpdate&&f.componentWillUpdate(w,f.__s,_),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(p,m,y)}))}f.context=_,f.props=w,f.state=f.__s,(l=a.__r)&&l(e),f.__d=!1,f.__v=e,f.__P=t,l=f.render(f.props,f.state,f.context),f.state=f.__s,null!=f.getChildContext&&(o=h(h({},o),f.getChildContext())),d||null==f.getSnapshotBeforeUpdate||(y=f.getSnapshotBeforeUpdate(p,m)),O=null!=l&&l.type==b&&null==l.key?l.props.children:l,D(t,Array.isArray(O)?O:[O],e,n,o,r,i,s,c,u),f.base=e.__e,f.__h.length&&s.push(f),g&&(f.__E=f.__=null),f.__e=!1}else null==i&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=R(n.__e,e,n,o,r,i,s,u);(l=a.diffed)&&l(e)}catch(t){e.__v=null,a.__e(t,e,n)}return e.__e}function N(t,e){a.__c&&a.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){a.__e(t,e.__v)}}))}function R(t,e,n,a,o,r,i,s){var c,u,d,h,p,m=n.props,y=e.props;if(o="svg"===e.type||o,null!=r)for(c=0;c<r.length;c++)if(null!=(u=r[c])&&((null===e.type?3===u.nodeType:u.localName===e.type)||t==u)){t=u,r[c]=null;break}if(null==t){if(null===e.type)return document.createTextNode(y);t=o?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type,y.is&&{is:y.is}),r=null,s=!1}if(null===e.type)m!==y&&t.data!==y&&(t.data=y);else{if(null!=r&&(r=f.slice.call(t.childNodes)),d=(m=n.props||l).dangerouslySetInnerHTML,h=y.dangerouslySetInnerHTML,!s){if(null!=r)for(m={},p=0;p<t.attributes.length;p++)m[t.attributes[p].name]=t.attributes[p].value;(h||d)&&(h&&d&&h.__html==d.__html||(t.innerHTML=h&&h.__html||""))}(function(t,e,n,a,o){var r;for(r in n)"children"===r||"key"===r||r in e||T(t,r,null,n[r],a);for(r in e)o&&"function"!=typeof e[r]||"children"===r||"key"===r||"value"===r||"checked"===r||n[r]===e[r]||T(t,r,e[r],n[r],a)})(t,y,m,o,s),h?e.__k=[]:(c=e.props.children,D(t,Array.isArray(c)?c:[c],e,n,a,"foreignObject"!==e.type&&o,r,i,l,s)),s||("value"in y&&void 0!==(c=y.value)&&c!==t.value&&T(t,"value",c,m.value,!1),"checked"in y&&void 0!==(c=y.checked)&&c!==t.checked&&T(t,"checked",c,m.checked,!1))}return t}function E(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){a.__e(t,n)}}function A(t,e,n){var o,r,i;if(a.unmount&&a.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||E(o,null,e)),n||"function"==typeof t.type||(n=null!=(r=t.__e)),t.__e=t.__d=void 0,null!=(o=t.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(t){a.__e(t,e)}o.base=o.__P=null}if(o=t.__k)for(i=0;i<o.length;i++)o[i]&&A(o[i],e,n);null!=r&&p(r)}function U(t,e,n){return this.constructor(t,n)}function I(t,e,n){var o,r,i;a.__&&a.__(t,e),r=(o=n===c)?null:n&&n.__k||e.__k,t=m(b,null,[t]),i=[],P(e,(o?e:n||e).__k=t,r||l,l,void 0!==e.ownerSVGElement,n&&!o?[n]:r?null:e.childNodes.length?f.slice.call(e.childNodes):null,i,n||l,o),N(i,t)}function L(t,e){I(t,e,c)}function W(t,e,n){var a,o,r,i=arguments,s=h({},t.props);for(r in e)"key"==r?a=e[r]:"ref"==r?o=e[r]:s[r]=e[r];if(arguments.length>3)for(n=[n],r=3;r<arguments.length;r++)n.push(i[r]);return null!=n&&(s.children=n),y(t.type,s,a||t.key,o||t.ref,null)}function Y(t,e){var n={__c:e="__cC"+u++,__:t,Consumer:function(t,e){return t.children(e)},Provider:function(t,n,a){return this.getChildContext||(n=[],(a={})[e]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(t){this.props.value!==t.value&&n.some(_)},this.sub=function(t){n.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){n.splice(n.indexOf(t),1),e&&e.call(t)}}),t.children}};return n.Provider.__=n.Consumer.contextType=n}a={__e:function(t,e){for(var n,a;e=e.__;)if((n=e.__c)&&!n.__)try{if(n.constructor&&null!=n.constructor.getDerivedStateFromError&&(a=!0,n.setState(n.constructor.getDerivedStateFromError(t))),null!=n.componentDidCatch&&(a=!0,n.componentDidCatch(t)),a)return _(n.__E=n)}catch(e){t=e}throw t}},o=function(t){return null!=t&&void 0===t.constructor},v.prototype.setState=function(t,e){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=h({},this.state),"function"==typeof t&&(t=t(h({},n),this.props)),t&&h(n,t),null!=t&&this.__v&&(e&&this.__h.push(e),_(this))},v.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),_(this))},v.prototype.render=b,r=[],i="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,O.__r=0,c=l,u=0},function(t,e){t.exports=wp.i18n},function(t,e,n){"use strict";function a(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}n.d(e,"a",(function(){return a}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(2);function o(t){Object(a.a)(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new Date(t.getTime()):"number"==typeof t||"[object Number]"===e?new Date(t):("string"!=typeof t&&"[object String]"!==e||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},function(t,e,n){"use strict";function a(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}n.d(e,"a",(function(){return a}))},function(t,e,n){"use strict";var a=function(t,e){return e=e||{},new Promise((function(n,a){var o=new XMLHttpRequest,r=[],i=[],s={},c=function(){return{ok:2==(o.status/100|0),statusText:o.statusText,status:o.status,url:o.responseURL,text:function(){return Promise.resolve(o.responseText)},json:function(){return Promise.resolve(JSON.parse(o.responseText))},blob:function(){return Promise.resolve(new Blob([o.response]))},clone:c,headers:{keys:function(){return r},entries:function(){return i},get:function(t){return s[t.toLowerCase()]},has:function(t){return t.toLowerCase()in s}}}};for(var u in o.open(e.method||"get",t,!0),o.onload=function(){o.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,n){r.push(e=e.toLowerCase()),i.push([e,n]),s[e]=s[e]?s[e]+","+n:n})),n(c())},o.onerror=a,o.withCredentials="include"==e.credentials,e.headers)o.setRequestHeader(u,e.headers[u]);o.send(e.body||null)}))},o=(n(18),window.koko_analytics);var r=function(t){return t<10?"0"+t:t};e.a={request:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.headers={"X-WP-Nonce":o.nonce,Accepts:"application/json"},e.credentials="same-origin";var n=o.root+"koko-analytics/v1"+t;if(e.body){if(!e.method||"GET"===e.method){for(var r in n.indexOf("?")<0?n+="?":n+="&",e.body)n+="".concat(window.encodeURIComponent(r),"=").concat(window.encodeURIComponent(e.body[r]),"&");n=n.substring(0,n.length-1),delete e.body}"POST"===e.method&&(e.headers["Content-Type"]="application/json","string"!=typeof e.body&&(e.body=JSON.stringify(e.body)))}return a(n,e).then((function(t){if(t.status>=400)throw new Error(t.statusText);return t})).then((function(t){return t.json()}))},formatDate:function(t){return"".concat(t.getFullYear(),"-").concat(r(t.getMonth()+1),"-").concat(r(t.getDate()))}}},function(t,e,n){t.exports=n(16)()},function(t,e,n){"use strict";n.d(e,"a",(function(){return K}));var a=n(3),o=n(2);function r(t){Object(o.a)(1,arguments);var e=Object(a.a)(t);return!isNaN(e)}var i={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function s(t){return function(e){var n=e||{},a=n.width?String(n.width):t.defaultWidth;return t.formats[a]||t.formats[t.defaultWidth]}}var c={date:s({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:s({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:s({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},u={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function l(t){return function(e,n){var a,o=n||{};if("formatting"===(o.context?String(o.context):"standalone")&&t.formattingValues){var r=t.defaultFormattingWidth||t.defaultWidth,i=o.width?String(o.width):r;a=t.formattingValues[i]||t.formattingValues[r]}else{var s=t.defaultWidth,c=o.width?String(o.width):t.defaultWidth;a=t.values[c]||t.values[s]}return a[t.argumentCallback?t.argumentCallback(e):e]}}function f(t){return function(e,n){var a=String(e),o=n||{},r=o.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=a.match(i);if(!s)return null;var c,u=s[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth];return c="[object Array]"===Object.prototype.toString.call(l)?function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}(l,(function(t){return t.test(u)})):function(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}(l,(function(t){return t.test(u)})),c=t.valueCallback?t.valueCallback(c):c,{value:c=o.valueCallback?o.valueCallback(c):c,rest:a.slice(u.length)}}}var d,h={code:"en-US",formatDistance:function(t,e,n){var a;return n=n||{},a="string"==typeof i[t]?i[t]:1===e?i[t].one:i[t].other.replace("{{count}}",e),n.addSuffix?n.comparison>0?"in "+a:a+" ago":a},formatLong:c,formatRelative:function(t,e,n,a){return u[t]},localize:{ordinalNumber:function(t,e){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:l({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:l({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:l({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:l({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:l({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(d={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}},function(t,e){var n=String(t),a=e||{},o=n.match(d.matchPattern);if(!o)return null;var r=o[0],i=n.match(d.parsePattern);if(!i)return null;var s=d.valueCallback?d.valueCallback(i[0]):i[0];return{value:s=a.valueCallback?a.valueCallback(s):s,rest:n.slice(r.length)}}),era:f({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:f({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:f({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:f({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:f({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},p=n(4);function m(t,e){Object(o.a)(2,arguments);var n=Object(a.a)(t).getTime(),r=Object(p.a)(e);return new Date(n+r)}function y(t,e){Object(o.a)(2,arguments);var n=Object(p.a)(e);return m(t,-n)}function g(t,e){for(var n=t<0?"-":"",a=Math.abs(t).toString();a.length<e;)a="0"+a;return n+a}var b={y:function(t,e){var n=t.getUTCFullYear(),a=n>0?n:1-n;return g("yy"===e?a%100:a,e.length)},M:function(t,e){var n=t.getUTCMonth();return"M"===e?String(n+1):g(n+1,2)},d:function(t,e){return g(t.getUTCDate(),e.length)},a:function(t,e){var n=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":case"aaa":return n.toUpperCase();case"aaaaa":return n[0];case"aaaa":default:return"am"===n?"a.m.":"p.m."}},h:function(t,e){return g(t.getUTCHours()%12||12,e.length)},H:function(t,e){return g(t.getUTCHours(),e.length)},m:function(t,e){return g(t.getUTCMinutes(),e.length)},s:function(t,e){return g(t.getUTCSeconds(),e.length)},S:function(t,e){var n=e.length,a=t.getUTCMilliseconds();return g(Math.floor(a*Math.pow(10,n-3)),e.length)}};function v(t){Object(o.a)(1,arguments);var e=1,n=Object(a.a)(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function w(t){Object(o.a)(1,arguments);var e=Object(a.a)(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=v(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var c=v(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=c.getTime()?n:n-1}function k(t){Object(o.a)(1,arguments);var e=w(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var a=v(n);return a}function _(t,e){Object(o.a)(1,arguments);var n=e||{},r=n.locale,i=r&&r.options&&r.options.weekStartsOn,s=null==i?0:Object(p.a)(i),c=null==n.weekStartsOn?s:Object(p.a)(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=Object(a.a)(t),l=u.getUTCDay(),f=(l<c?7:0)+l-c;return u.setUTCDate(u.getUTCDate()-f),u.setUTCHours(0,0,0,0),u}function O(t,e){Object(o.a)(1,arguments);var n=Object(a.a)(t,e),r=n.getUTCFullYear(),i=e||{},s=i.locale,c=s&&s.options&&s.options.firstWeekContainsDate,u=null==c?1:Object(p.a)(c),l=null==i.firstWeekContainsDate?u:Object(p.a)(i.firstWeekContainsDate);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(r+1,0,l),f.setUTCHours(0,0,0,0);var d=_(f,e),h=new Date(0);h.setUTCFullYear(r,0,l),h.setUTCHours(0,0,0,0);var m=_(h,e);return n.getTime()>=d.getTime()?r+1:n.getTime()>=m.getTime()?r:r-1}function D(t,e){Object(o.a)(1,arguments);var n=e||{},a=n.locale,r=a&&a.options&&a.options.firstWeekContainsDate,i=null==r?1:Object(p.a)(r),s=null==n.firstWeekContainsDate?i:Object(p.a)(n.firstWeekContainsDate),c=O(t,e),u=new Date(0);u.setUTCFullYear(c,0,s),u.setUTCHours(0,0,0,0);var l=_(u,e);return l}var x="midnight",j="noon",M="morning",T="afternoon",C="evening",S="night";function P(t,e){var n=t>0?"-":"+",a=Math.abs(t),o=Math.floor(a/60),r=a%60;if(0===r)return n+String(o);var i=e||"";return n+String(o)+i+g(r,2)}function N(t,e){return t%60==0?(t>0?"-":"+")+g(Math.abs(t)/60,2):R(t,e)}function R(t,e){var n=e||"",a=t>0?"-":"+",o=Math.abs(t);return a+g(Math.floor(o/60),2)+n+g(o%60,2)}var E={G:function(t,e,n){var a=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,e,n){if("yo"===e){var a=t.getUTCFullYear(),o=a>0?a:1-a;return n.ordinalNumber(o,{unit:"year"})}return b.y(t,e)},Y:function(t,e,n,a){var o=O(t,a),r=o>0?o:1-o;return"YY"===e?g(r%100,2):"Yo"===e?n.ordinalNumber(r,{unit:"year"}):g(r,e.length)},R:function(t,e){return g(w(t),e.length)},u:function(t,e){return g(t.getUTCFullYear(),e.length)},Q:function(t,e,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return g(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return g(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,n){var a=t.getUTCMonth();switch(e){case"M":case"MM":return b.M(t,e);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,n){var a=t.getUTCMonth();switch(e){case"L":return String(a+1);case"LL":return g(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){var i=function(t,e){Object(o.a)(1,arguments);var n=Object(a.a)(t),r=_(n,e).getTime()-D(n,e).getTime();return Math.round(r/6048e5)+1}(t,r);return"wo"===e?n.ordinalNumber(i,{unit:"week"}):g(i,e.length)},I:function(t,e,n){var r=function(t){Object(o.a)(1,arguments);var e=Object(a.a)(t),n=v(e).getTime()-k(e).getTime();return Math.round(n/6048e5)+1}(t);return"Io"===e?n.ordinalNumber(r,{unit:"week"}):g(r,e.length)},d:function(t,e,n){return"do"===e?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):b.d(t,e)},D:function(t,e,n){var r=function(t){Object(o.a)(1,arguments);var e=Object(a.a)(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/864e5)+1}(t);return"Do"===e?n.ordinalNumber(r,{unit:"dayOfYear"}):g(r,e.length)},E:function(t,e,n){var a=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,n,a){var o=t.getUTCDay(),r=(o-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(r);case"ee":return g(r,2);case"eo":return n.ordinalNumber(r,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,n,a){var o=t.getUTCDay(),r=(o-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(r);case"cc":return g(r,e.length);case"co":return n.ordinalNumber(r,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,n){var a=t.getUTCDay(),o=0===a?7:a;switch(e){case"i":return String(o);case"ii":return g(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,n){var a=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,n){var a,o=t.getUTCHours();switch(a=12===o?j:0===o?x:o/12>=1?"pm":"am",e){case"b":case"bb":case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,n){var a,o=t.getUTCHours();switch(a=o>=17?C:o>=12?T:o>=4?M:S,e){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,n){if("ho"===e){var a=t.getUTCHours()%12;return 0===a&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return b.h(t,e)},H:function(t,e,n){return"Ho"===e?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):b.H(t,e)},K:function(t,e,n){var a=t.getUTCHours()%12;return"Ko"===e?n.ordinalNumber(a,{unit:"hour"}):g(a,e.length)},k:function(t,e,n){var a=t.getUTCHours();return 0===a&&(a=24),"ko"===e?n.ordinalNumber(a,{unit:"hour"}):g(a,e.length)},m:function(t,e,n){return"mo"===e?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):b.m(t,e)},s:function(t,e,n){return"so"===e?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):b.s(t,e)},S:function(t,e){return b.S(t,e)},X:function(t,e,n,a){var o=(a._originalDate||t).getTimezoneOffset();if(0===o)return"Z";switch(e){case"X":return N(o);case"XXXX":case"XX":return R(o);case"XXXXX":case"XXX":default:return R(o,":")}},x:function(t,e,n,a){var o=(a._originalDate||t).getTimezoneOffset();switch(e){case"x":return N(o);case"xxxx":case"xx":return R(o);case"xxxxx":case"xxx":default:return R(o,":")}},O:function(t,e,n,a){var o=(a._originalDate||t).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+P(o,":");case"OOOO":default:return"GMT"+R(o,":")}},z:function(t,e,n,a){var o=(a._originalDate||t).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+P(o,":");case"zzzz":default:return"GMT"+R(o,":")}},t:function(t,e,n,a){var o=a._originalDate||t;return g(Math.floor(o.getTime()/1e3),e.length)},T:function(t,e,n,a){return g((a._originalDate||t).getTime(),e.length)}};function A(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}}function U(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}}var I={p:U,P:function(t,e){var n,a=t.match(/(P+)(p+)?/),o=a[1],r=a[2];if(!r)return A(t,e);switch(o){case"P":n=e.dateTime({width:"short"});break;case"PP":n=e.dateTime({width:"medium"});break;case"PPP":n=e.dateTime({width:"long"});break;case"PPPP":default:n=e.dateTime({width:"full"})}return n.replace("{{date}}",A(o,e)).replace("{{time}}",U(r,e))}};function L(t){return t.getTime()%6e4}function W(t){var e=new Date(t.getTime()),n=Math.ceil(e.getTimezoneOffset());return e.setSeconds(0,0),6e4*n+(n>0?(6e4+L(e))%6e4:L(e))}var Y=["D","DD"],F=["YY","YYYY"];function q(t){return-1!==Y.indexOf(t)}function B(t){return-1!==F.indexOf(t)}function H(t,e,n){if("YYYY"===t)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===t)throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===t)throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===t)throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}var z=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Q=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,G=/^'([^]*?)'?$/,X=/''/g,V=/[a-zA-Z]/;function K(t,e,n){Object(o.a)(2,arguments);var i=String(e),s=n||{},c=s.locale||h,u=c.options&&c.options.firstWeekContainsDate,l=null==u?1:Object(p.a)(u),f=null==s.firstWeekContainsDate?l:Object(p.a)(s.firstWeekContainsDate);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var d=c.options&&c.options.weekStartsOn,m=null==d?0:Object(p.a)(d),g=null==s.weekStartsOn?m:Object(p.a)(s.weekStartsOn);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!c.localize)throw new RangeError("locale must contain localize property");if(!c.formatLong)throw new RangeError("locale must contain formatLong property");var b=Object(a.a)(t);if(!r(b))throw new RangeError("Invalid time value");var v=W(b),w=y(b,v),k={firstWeekContainsDate:f,weekStartsOn:g,locale:c,_originalDate:b},_=i.match(Q).map((function(t){var e=t[0];return"p"===e||"P"===e?(0,I[e])(t,c.formatLong,k):t})).join("").match(z).map((function(n){if("''"===n)return"'";var a=n[0];if("'"===a)return J(n);var o=E[a];if(o)return!s.useAdditionalWeekYearTokens&&B(n)&&H(n,e,t),!s.useAdditionalDayOfYearTokens&&q(n)&&H(n,e,t),o(w,n,c.localize,k);if(a.match(V))throw new RangeError("Format string contains an unescaped latin alphabet character `"+a+"`");return n})).join("");return _}function J(t){return t.match(G)[1].replace(X,"'")}},function(t,e,n){"use strict";var a=1e6,o=/\.0+$/;e.a={formatPretty:function(t){var e=0;return t>=a?(t/=a,e=Math.max(0,3-String(Math.round(t)).length),t.toFixed(e).replace(o,"")+"M"):t>=1e4?(t/=1e3,e=Math.max(0,3-String(Math.round(t)).length),t.toFixed(e).replace(o,"")+"K"):String(t)},formatPercentage:function(t){return t<1&&t>-1&&(t=Math.round(100*t)),t>=0?"+".concat(t,"%"):"".concat(t,"%")}}},function(t,e,n){"use strict";e.a=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))}},function(t,e,n){"use strict";var a,o=function(){return void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a},r=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),i=[];function s(t){for(var e=-1,n=0;n<i.length;n++)if(i[n].identifier===t){e=n;break}return e}function c(t,e){for(var n={},a=[],o=0;o<t.length;o++){var r=t[o],c=e.base?r[0]+e.base:r[0],u=n[c]||0,l="".concat(c," ").concat(u);n[c]=u+1;var f=s(l),d={css:r[1],media:r[2],sourceMap:r[3]};-1!==f?(i[f].references++,i[f].updater(d)):i.push({identifier:l,updater:y(d,e),references:1}),a.push(l)}return a}function u(t){var e=document.createElement("style"),a=t.attributes||{};if(void 0===a.nonce){var o=n.nc;o&&(a.nonce=o)}if(Object.keys(a).forEach((function(t){e.setAttribute(t,a[t])})),"function"==typeof t.insert)t.insert(e);else{var i=r(t.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(e)}return e}var l,f=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function d(t,e,n,a){var o=n?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(t.styleSheet)t.styleSheet.cssText=f(e,o);else{var r=document.createTextNode(o),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(r,i[e]):t.appendChild(r)}}function h(t,e,n){var a=n.css,o=n.media,r=n.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),r&&btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=a;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(a))}}var p=null,m=0;function y(t,e){var n,a,o;if(e.singleton){var r=m++;n=p||(p=u(e)),a=d.bind(null,n,r,!1),o=d.bind(null,n,r,!0)}else n=u(e),a=h.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return a(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;a(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=o());var n=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var a=0;a<n.length;a++){var o=s(n[a]);i[o].references--}for(var r=c(t,e),u=0;u<n.length;u++){var l=s(n[u]);0===i[l].references&&(i[l].updater(),i.splice(l,1))}n=r}}}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",a=t[3];if(!a)return n;if(e&&"function"==typeof btoa){var o=(i=a,s=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),r=a.sources.map((function(t){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(t," */")}));return[n].concat(r).concat([o]).join("\n")}var i,s,c;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,a){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(a)for(var r=0;r<this.length;r++){var i=this[r][0];null!=i&&(o[i]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);a&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";function a(t){var e=new Date(t.getFullYear(),t.getMonth(),1);return e.setMonth(e.getMonth()+1),e.setDate(0),e.getDate()===t.getDate()}n.d(e,"a",(function(){return a}))},function(t,e,n){"use strict";(function(t){var a=n(9),o=setTimeout;function r(t){return Boolean(t&&void 0!==t.length)}function i(){}function s(t){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(t,this)}function c(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,s._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var a;try{a=n(t._value)}catch(t){return void l(e.promise,t)}u(e.promise,a)}else(1===t._state?u:l)(e.promise,t._value)}))):t._deferreds.push(e)}function u(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof s)return t._state=3,t._value=e,void f(t);if("function"==typeof n)return void h((a=n,o=e,function(){a.apply(o,arguments)}),t)}t._state=1,t._value=e,f(t)}catch(e){l(t,e)}var a,o}function l(t,e){t._state=2,t._value=e,f(t)}function f(t){2===t._state&&0===t._deferreds.length&&s._immediateFn((function(){t._handled||s._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)c(t,t._deferreds[e]);t._deferreds=null}function d(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function h(t,e){var n=!1;try{t((function(t){n||(n=!0,u(e,t))}),(function(t){n||(n=!0,l(e,t))}))}catch(t){if(n)return;n=!0,l(e,t)}}s.prototype.catch=function(t){return this.then(null,t)},s.prototype.then=function(t,e){var n=new this.constructor(i);return c(this,new d(t,e,n)),n},s.prototype.finally=a.a,s.all=function(t){return new s((function(e,n){if(!r(t))return n(new TypeError("Promise.all accepts an array"));var a=Array.prototype.slice.call(t);if(0===a.length)return e([]);var o=a.length;function i(t,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var s=r.then;if("function"==typeof s)return void s.call(r,(function(e){i(t,e)}),n)}a[t]=r,0==--o&&e(a)}catch(t){n(t)}}for(var s=0;s<a.length;s++)i(s,a[s])}))},s.resolve=function(t){return t&&"object"==typeof t&&t.constructor===s?t:new s((function(e){e(t)}))},s.reject=function(t){return new s((function(e,n){n(t)}))},s.race=function(t){return new s((function(e,n){if(!r(t))return n(new TypeError("Promise.race accepts an array"));for(var a=0,o=t.length;a<o;a++)s.resolve(t[a]).then(e,n)}))},s._immediateFn="function"==typeof t&&function(e){t(e)}||function(t){o(t,0)},s._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},e.a=s}).call(this,n(19).setImmediate)},function(t,e,n){"use strict";n.d(e,"a",(function(){return x}));var a=n(0),o=n(6),r=n.n(o),i=n(7),s=n(5),c=(n(22),n(8));var u=n(13),l=n(1);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=g(t);if(e){var o=g(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return m(this,n)}}function m(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?y(t):e}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b,v,w,k,_,O=window.koko_analytics.colors[window.koko_analytics.colors.length-1],D=(b=O,v=-20,w=parseInt(b.substring(1,3),16),k=parseInt(b.substring(3,5),16),_=parseInt(b.substring(5,7),16),w=parseInt(w*(100+v)/100),k=(k=parseInt(k*(100+v)/100))<255?k:255,_=(_=parseInt(_*(100+v)/100))<255?_:255,"#"+(1===(w=w<255?w:255).toString(16).length?"0"+w.toString(16):w.toString(16))+(1===k.toString(16).length?"0"+k.toString(16):k.toString(16))+(1===_.toString(16).length?"0"+_.toString(16):_.toString(16)));var x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(f,t);var e,n,o,r=p(f);function f(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),(e=r.call(this,t)).state={dataset:[],yMax:0,groupByMonth:!1},e.tooltip=e.createTooltip(),e.showTooltip=e.showTooltip.bind(y(e)),e.hideTooltip=e.hideTooltip.bind(y(e)),e.updateChart=e.updateChart.bind(y(e)),e.loadData=e.loadData.bind(y(e)),e.autoRefresh=e.autoRefresh.bind(y(e)),e}return e=f,(n=[{key:"componentDidMount",value:function(){document.body.appendChild(this.tooltip),document.addEventListener("click",this.hideTooltip),this.refreshInterval=window.setInterval(this.autoRefresh,6e4),this.updateChart()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.hideTooltip),window.clearInterval(this.refreshInterval)}},{key:"componentDidUpdate",value:function(t,e,n){this.props.startDate.getTime()===t.startDate.getTime()&&this.props.endDate.getTime()===t.endDate.getTime()||this.updateChart()}},{key:"autoRefresh",value:function(){var t=new Date;this.props.startDate<t&&this.props.endDate>t&&this.loadData()}},{key:"updateChart",value:function(){this.tooltip.style.display="none",this.loadData()}},{key:"loadData",value:function(){var t=this,e=this.props,n=e.startDate,a=e.endDate;s.a.request("/stats",{body:{start_date:s.a.formatDate(n),end_date:s.a.formatDate(a)}}).then((function(e){for(var o,r={},i=0,c=1===n.getDate()&&Object(u.a)(a)&&a.getMonth()-n.getMonth()>=2,l=new Date(+n);l<=a;)r[o=s.a.formatDate(l)]={date:new Date(l.getTime()),pageviews:0,visitors:0},c?l.setMonth(l.getMonth()+1):l.setDate(l.getDate()+1);for(var f=0;f<e.length;f++){if(o=e[f].date,c){var d=new Date(o);d.setDate(1),o=s.a.formatDate(d)}void 0!==r[o]?(r[o].pageviews+=parseInt(e[f].pageviews),r[o].visitors+=parseInt(e[f].visitors),r[o].pageviews>i&&(i=r[o].pageviews)):console.error("Unexpected date in response data",o)}t.setState({dataset:Object.values(r),yMax:i,groupByMonth:c})})).catch((function(e){t.setState({dataset:[],yMax:0})}))}},{key:"createTooltip",value:function(){var t=document.createElement("div");return t.className="chart-tooltip",t.style.display="none",t}},{key:"showTooltip",value:function(t,e){var n=this.tooltip,a=this.state.groupByMonth;return function(o){n.innerHTML='\n      <div class="tooltip-inner">\n        <div class="heading">'.concat(Object(i.a)(t.date,a?"MMM yyyy":"MMM d, yyyy - EEEE"),'</div>\n        <div class="content">\n          <div class="visitors" style="border-top-color: ').concat(D,'">\n            <div class="amount">').concat(t.visitors,"</div>\n            <div>").concat(Object(l.__)("Visitors","koko-analytics"),'</div>\n          </div>\n          <div class="pageviews" style="border-top-color: ').concat(O,'">\n            <div class="amount">').concat(t.pageviews,"</div>\n            <div>").concat(Object(l.__)("Pageviews","koko-analytics"),'</div>\n          </div>\n        </div>\n      </div>\n      <div class="tooltip-arrow"></div>');var r=o.currentTarget.getBoundingClientRect();n.style.display="block",n.style.left=r.left+window.scrollX-.5*n.clientWidth+.5*e+"px",n.style.top=r.y+window.scrollY-n.clientHeight+"px"}}},{key:"hideTooltip",value:function(t){"click"===t.type&&"function"==typeof t.target.matches&&t.target.matches(".chart *, .tooltip *")||(this.tooltip.style.display="none")}},{key:"render",value:function(t,e){var n=this,o=e.dataset,r=e.yMax,s=e.groupByMonth,u=o.length;if(u<=1)return null;var l=t.width,f=t.height||Math.max(240,Math.min(window.innerHeight/3,window.innerWidth/2,360)),d=48,h=24,p=l-d-24,m=f-36-h,y=p/u,g=.9*y,b=(y-g)/2,v=.6*g,w=(g-v)/2,k=function(t,e,n){function a(t,e){var n=Math.floor(Math.log10(t)),a=t/Math.pow(10,n);return(e?a<1.5?1:a<3?2:a<7?5:10:a<=1?1:a<=2?2:a<=5?5:10)*Math.pow(10,n)}for(var o=Math.max(4,a(e-t,!1)),r=Math.max(1,a(o/(n-1),!0)),i=Math.ceil(o/r)*r,s=[],c=t;c<=i;c+=r)s.push(c);return{ticks:s,max:i}}(0,r,4),_=function(t){return t*y},x=function(t){return k.max>0?m-t/k.max*m:m};return Object(a.h)("div",{className:"box"},Object(a.h)("div",{className:"chart-container"},Object(a.h)("svg",{className:"chart",width:"100%",height:f},Object(a.h)("g",{className:"axes"},Object(a.h)("g",{className:"axes-y",transform:"translate(0, ".concat(h,")"),"text-anchor":"end"},k.ticks.map((function(t,e){var n=x(t);return Object(a.h)("g",{key:e},Object(a.h)("line",{stroke:"#EEE",x1:d,x2:p+d,y1:n,y2:n}),Object(a.h)("text",{fill:"#757575",x:.75*d,y:n,dy:"0.33em"},c.a.formatPretty(t)))}))),Object(a.h)("g",{className:"axes-x","text-anchor":"middle",transform:"translate(".concat(d,", ").concat(h+m,")")},o.map((function(t,e){var n=u<=90,o=null;if(0===e?o=Object(i.a)(t.date,s?"MMM yyyy":"MMM d, yyyy"):e===u-1?o=Object(i.a)(t.date,s?"MMM yyyy":"MMM d"):window.innerWidth>=1280&&(u<=7||1===t.date.getDate()||u<=31&&e>=3&&e<u-3&&0===t.date.getDay())&&(o=Object(i.a)(t.date,s?"MMM":"MMM d")),!n&&!o)return null;var r=_(e)+.5*y;return Object(a.h)("g",{key:t.date.toDateString()},Object(a.h)("line",{stroke:"#DDD",x1:r,x2:r,y1:"0",y2:"6"}),o&&Object(a.h)("text",{fill:"#757575",x:r,y:"10",dy:"1em"},o))})))),Object(a.h)("g",{className:"bars",transform:"translate(".concat(d,", ").concat(h,")")},k.max>0&&o.map((function(t,e){if(0!==t.pageviews){var o=t.pageviews/k.max*m,r=t.visitors/k.max*m,i=_(e),s=n.showTooltip(t,g);return Object(a.h)("g",{key:t.date.toDateString(),onClick:s,onMouseEnter:s,onMouseLeave:n.hideTooltip},Object(a.h)("rect",{className:"pageviews",height:o,width:g,x:i+b,y:x(t.pageviews),fill:O}),Object(a.h)("rect",{className:"visitors",height:r,width:v,x:i+b+w,y:x(t.visitors),fill:D}))}}))))))}}])&&d(e.prototype,n),o&&d(e,o),f}(a.Component);x.propTypes={startDate:r.a.instanceOf(Date).isRequired,endDate:r.a.instanceOf(Date).isRequired,width:r.a.number.isRequired,height:r.a.number}},function(t,e,n){"use strict";var a=n(17);function o(){}function r(){}r.resetWarningCache=o,t.exports=function(){function t(t,e,n,o,r,i){if(i!==a){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:r,resetWarningCache:o};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";(function(t){var e=n(14),a=n(9),o=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t)return t;throw new Error("unable to locate global object")}();"Promise"in o?o.Promise.prototype.finally||(o.Promise.prototype.finally=a.a):o.Promise=e.a}).call(this,n(12))},function(t,e,n){(function(t){var a=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function r(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new r(o.call(setTimeout,a,arguments),clearTimeout)},e.setInterval=function(){return new r(o.call(setInterval,a,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(a,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(20),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(12))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var a,o,r,i,s,c=1,u={},l=!1,f=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?a=function(t){e.nextTick((function(){p(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((r=new MessageChannel).port1.onmessage=function(t){p(t.data)},a=function(t){r.port2.postMessage(t)}):f&&"onreadystatechange"in f.createElement("script")?(o=f.documentElement,a=function(t){var e=f.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):a=function(t){setTimeout(p,0,t)}:(i="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(i)&&p(+e.data.slice(i.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),a=function(e){t.postMessage(i+e,"*")}),d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return u[c]=o,a(c),c++},d.clearImmediate=h}function h(t){delete u[t]}function p(t){if(l)setTimeout(p,0,t);else{var e=u[t];if(e){l=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{h(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(12),n(21))},function(t,e){var n,a,o=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{a="function"==typeof clearTimeout?clearTimeout:i}catch(t){a=i}}();var c,u=[],l=!1,f=-1;function d(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&h())}function h(){if(!l){var t=s(d);l=!0;for(var e=u.length;e;){for(c=u,u=[];++f<e;)c&&c[f].run();f=-1,e=u.length}c=null,l=!1,function(t){if(a===clearTimeout)return clearTimeout(t);if((a===i||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(t);try{a(t)}catch(e){try{return a.call(null,t)}catch(e){return a.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new p(t,e)),1!==u.length||l||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){var a=n(10),o=n(23);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r={insert:"head",singleton:!1};a(o,r);t.exports=o.locals||{}},function(t,e,n){(e=n(11)(!1)).push([t.i,".chart-container{position:relative}.chart{overflow:visible}.chart-tooltip{position:absolute;z-index:9991}.chart-tooltip .heading{font-weight:600;padding:12px;line-height:1}.chart-tooltip .pageviews,.chart-tooltip .visitors{border-top:3px solid transparent}.chart-tooltip .content{display:flex}.chart-tooltip .content>div{padding:6px 12px;width:50%;display:block;flex:1}.chart-tooltip .amount{color:#FFF;font-weight:bold}.tooltip-inner{background:rgba(46,54,63,0.96);box-shadow:2px 2px 12px 0 rgba(0,0,0,0.5);border-radius:4px;color:#EEE}.tooltip-arrow{width:0;height:0;margin-left:auto;margin-right:auto;border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid rgba(46,54,63,0.96)}#koko-analytics-dashboard-widget-mount{text-align:center}\n",""]),t.exports=e},function(t,e,n){"use strict";n.r(e),n.d(e,"subscribers",(function(){return h})),n.d(e,"getCurrentUrl",(function(){return m})),n.d(e,"route",(function(){return y})),n.d(e,"Router",(function(){return O})),n.d(e,"Route",(function(){return x})),n.d(e,"Link",(function(){return D})),n.d(e,"exec",(function(){return i}));var a=n(0),o={};function r(t,e){for(var n in e)t[n]=e[n];return t}function i(t,e,n){var a,r=/(?:\?([^#]*))?(#.*)?$/,i=t.match(r),s={};if(i&&i[1])for(var c=i[1].split("&"),l=0;l<c.length;l++){var f=c[l].split("=");s[decodeURIComponent(f[0])]=decodeURIComponent(f.slice(1).join("="))}t=u(t.replace(r,"")),e=u(e||"");for(var d=Math.max(t.length,e.length),h=0;h<d;h++)if(e[h]&&":"===e[h].charAt(0)){var p=e[h].replace(/(^:|[+*?]+$)/g,""),m=(e[h].match(/[+*?]+$/)||o)[0]||"",y=~m.indexOf("+"),g=~m.indexOf("*"),b=t[h]||"";if(!b&&!g&&(m.indexOf("?")<0||y)){a=!1;break}if(s[p]=decodeURIComponent(b),y||g){s[p]=t.slice(h).map(decodeURIComponent).join("/");break}}else if(e[h]!==t[h]){a=!1;break}return(!0===n.default||!1!==a)&&s}function s(t,e){return t.rank<e.rank?1:t.rank>e.rank?-1:t.index-e.index}function c(t,e){return t.index=e,t.rank=function(t){return t.props.default?0:(e=t.props.path,u(e).map(l).join(""));var e}(t),t.props}function u(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function l(t){return":"==t.charAt(0)?1+"*+?".indexOf(t.charAt(t.length-1))||4:5}var f=null,d=[],h=[],p={};function m(){var t;return""+((t=f&&f.location?f.location:f&&f.getCurrentLocation?f.getCurrentLocation():"undefined"!=typeof location?location:p).pathname||"")+(t.search||"")}function y(t,e){return void 0===e&&(e=!1),"string"!=typeof t&&t.url&&(e=t.replace,t=t.url),function(t){for(var e=d.length;e--;)if(d[e].canRoute(t))return!0;return!1}(t)&&function(t,e){void 0===e&&(e="push"),f&&f[e]?f[e](t):"undefined"!=typeof history&&history[e+"State"]&&history[e+"State"](null,null,t)}(t,e?"replace":"push"),g(t)}function g(t){for(var e=!1,n=0;n<d.length;n++)!0===d[n].routeTo(t)&&(e=!0);for(var a=h.length;a--;)h[a](t);return e}function b(t){if(t&&t.getAttribute){var e=t.getAttribute("href"),n=t.getAttribute("target");if(e&&e.match(/^\//g)&&(!n||n.match(/^_?self$/i)))return y(e)}}function v(t){if(!(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||0!==t.button))return b(t.currentTarget||t.target||this),w(t)}function w(t){return t&&(t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.stopPropagation&&t.stopPropagation(),t.preventDefault()),!1}function k(t){if(!(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||0!==t.button)){var e=t.target;do{if("A"===String(e.nodeName).toUpperCase()&&e.getAttribute("href")){if(e.hasAttribute("native"))return;if(b(e))return w(t)}}while(e=e.parentNode)}}var _=!1;var O=function(t){function e(e){t.call(this,e),e.history&&(f=e.history),this.state={url:e.url||m()},_||("function"==typeof addEventListener&&(f||addEventListener("popstate",(function(){g(m())})),addEventListener("click",k)),_=!0)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.shouldComponentUpdate=function(t){return!0!==t.static||(t.url!==this.props.url||t.onChange!==this.props.onChange)},e.prototype.canRoute=function(t){var e=Object(a.toChildArray)(this.props.children);return this.getMatchingChildren(e,t,!1).length>0},e.prototype.routeTo=function(t){this.setState({url:t});var e=this.canRoute(t);return this.updating||this.forceUpdate(),e},e.prototype.componentWillMount=function(){d.push(this),this.updating=!0},e.prototype.componentDidMount=function(){var t=this;f&&(this.unlisten=f.listen((function(e){t.routeTo(""+(e.pathname||"")+(e.search||""))}))),this.updating=!1},e.prototype.componentWillUnmount=function(){"function"==typeof this.unlisten&&this.unlisten(),d.splice(d.indexOf(this),1)},e.prototype.componentWillUpdate=function(){this.updating=!0},e.prototype.componentDidUpdate=function(){this.updating=!1},e.prototype.getMatchingChildren=function(t,e,n){return t.filter(c).sort(s).map((function(t){var o=i(e,t.props.path,t.props);if(o){if(!1!==n){var s={url:e,matches:o};return r(s,o),delete s.ref,delete s.key,Object(a.cloneElement)(t,s)}return t}})).filter(Boolean)},e.prototype.render=function(t,e){var n=t.children,o=t.onChange,r=e.url,i=this.getMatchingChildren(Object(a.toChildArray)(n),r,!0),s=i[0]||null,c=this.previousUrl;return r!==c&&(this.previousUrl=r,"function"==typeof o&&o({router:this,url:r,previous:c,active:i,current:s})),s},e}(a.Component),D=function(t){return Object(a.createElement)("a",r({onClick:v},t))},x=function(t){return Object(a.createElement)(t.component,t)};O.subscribers=h,O.getCurrentUrl=m,O.route=y,O.Router=O,O.Route=x,O.Link=D,O.exec=i,e.default=O},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Link=e.Match=void 0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},o=n(0),r=n(24);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var c=e.Match=function(t){function e(){var n,a;i(this,e);for(var o=arguments.length,r=Array(o),c=0;c<o;c++)r[c]=arguments[c];return n=a=s(this,t.call.apply(t,[this].concat(r))),a.update=function(t){a.nextUrl=t,a.setState({})},s(a,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentDidMount=function(){r.subscribers.push(this.update)},e.prototype.componentWillUnmount=function(){r.subscribers.splice(r.subscribers.indexOf(this.update)>>>0,1)},e.prototype.render=function(t){var e=this.nextUrl||(0,r.getCurrentUrl)(),n=e.replace(/\?.+$/,"");return this.nextUrl=null,t.children({url:e,path:n,matches:!1!==(0,r.exec)(n,t.path,{})})},e}(o.Component),u=function(t){var e=t.activeClassName,n=t.path,i=function(t,e){var n={};for(var a in t)e.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a]);return n}(t,["activeClassName","path"]);return(0,o.h)(c,{path:n||i.href},(function(t){var n=t.matches;return(0,o.h)(r.Link,a({},i,{class:[i.class||i.className,n&&e].filter(Boolean).join(" ")}))}))};e.Link=u,e.default=c,c.Link=u},function(t,e,n){
/*!
 * Pikaday
 *
 * Copyright © 2014 David Bushell | BSD & MIT license | https://github.com/Pikaday/Pikaday
 */
!function(e,a){"use strict";var o;try{o=n(29)}catch(t){}t.exports=function(t){var e="function"==typeof t,n=!!window.addEventListener,a=window.document,o=window.setTimeout,r=function(t,e,a,o){n?t.addEventListener(e,a,!!o):t.attachEvent("on"+e,a)},i=function(t,e,a,o){n?t.removeEventListener(e,a,!!o):t.detachEvent("on"+e,a)},s=function(t,e){return-1!==(" "+t.className+" ").indexOf(" "+e+" ")},c=function(t,e){s(t,e)||(t.className=""===t.className?e:t.className+" "+e)},u=function(t,e){var n;t.className=(n=(" "+t.className+" ").replace(" "+e+" "," ")).trim?n.trim():n.replace(/^\s+|\s+$/g,"")},l=function(t){return/Array/.test(Object.prototype.toString.call(t))},f=function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())},d=function(t){var e=t.getDay();return 0===e||6===e},h=function(t){return t%4==0&&t%100!=0||t%400==0},p=function(t,e){return[31,h(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},m=function(t){f(t)&&t.setHours(0,0,0,0)},y=function(t,e){return t.getTime()===e.getTime()},g=function(t,e,n){var a,o;for(a in e)(o=void 0!==t[a])&&"object"==typeof e[a]&&null!==e[a]&&void 0===e[a].nodeName?f(e[a])?n&&(t[a]=new Date(e[a].getTime())):l(e[a])?n&&(t[a]=e[a].slice(0)):t[a]=g({},e[a],n):!n&&o||(t[a]=e[a]);return t},b=function(t,e,n){var o;a.createEvent?((o=a.createEvent("HTMLEvents")).initEvent(e,!0,!1),o=g(o,n),t.dispatchEvent(o)):a.createEventObject&&(o=a.createEventObject(),o=g(o,n),t.fireEvent("on"+e,o))},v=function(t){return t.month<0&&(t.year-=Math.ceil(Math.abs(t.month)/12),t.month+=12),t.month>11&&(t.year+=Math.floor(Math.abs(t.month)/12),t.month-=12),t},w={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},k=function(t,e,n){for(e+=t.firstDay;e>=7;)e-=7;return n?t.i18n.weekdaysShort[e]:t.i18n.weekdays[e]},_=function(t){var e=[],n="false";if(t.isEmpty){if(!t.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';e.push("is-outside-current-month"),t.enableSelectionDaysInNextAndPreviousMonths||e.push("is-selection-disabled")}return t.isDisabled&&e.push("is-disabled"),t.isToday&&e.push("is-today"),t.isSelected&&(e.push("is-selected"),n="true"),t.hasEvent&&e.push("has-event"),t.isInRange&&e.push("is-inrange"),t.isStartRange&&e.push("is-startrange"),t.isEndRange&&e.push("is-endrange"),'<td data-day="'+t.day+'" class="'+e.join(" ")+'" aria-selected="'+n+'"><button class="pika-button pika-day" type="button" data-pika-year="'+t.year+'" data-pika-month="'+t.month+'" data-pika-day="'+t.day+'">'+t.day+"</button></td>"},O=function(t,e,n,a){return'<tr class="pika-row'+(n?" pick-whole-week":"")+(a?" is-selected":"")+'">'+(e?t.reverse():t).join("")+"</tr>"},D=function(t,e,n,a,o,r){var i,s,c,u,f,d=t._o,h=n===d.minYear,p=n===d.maxYear,m='<div id="'+r+'" class="pika-title" role="heading" aria-live="assertive">',y=!0,g=!0;for(c=[],i=0;i<12;i++)c.push('<option value="'+(n===o?i-e:12+i-e)+'"'+(i===a?' selected="selected"':"")+(h&&i<d.minMonth||p&&i>d.maxMonth?'disabled="disabled"':"")+">"+d.i18n.months[i]+"</option>");for(u='<div class="pika-label">'+d.i18n.months[a]+'<select class="pika-select pika-select-month" tabindex="-1">'+c.join("")+"</select></div>",l(d.yearRange)?(i=d.yearRange[0],s=d.yearRange[1]+1):(i=n-d.yearRange,s=1+n+d.yearRange),c=[];i<s&&i<=d.maxYear;i++)i>=d.minYear&&c.push('<option value="'+i+'"'+(i===n?' selected="selected"':"")+">"+i+"</option>");return f='<div class="pika-label">'+n+d.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+c.join("")+"</select></div>",d.showMonthAfterYear?m+=f+u:m+=u+f,h&&(0===a||d.minMonth>=a)&&(y=!1),p&&(11===a||d.maxMonth<=a)&&(g=!1),0===e&&(m+='<button class="pika-prev'+(y?"":" is-disabled")+'" type="button">'+d.i18n.previousMonth+"</button>"),e===t._o.numberOfMonths-1&&(m+='<button class="pika-next'+(g?"":" is-disabled")+'" type="button">'+d.i18n.nextMonth+"</button>"),m+"</div>"},x=function(i){var c=this,u=c.config(i);c._onMouseDown=function(t){if(c._v){var e=(t=t||window.event).target||t.srcElement;if(e)if(s(e,"is-disabled")||(!s(e,"pika-button")||s(e,"is-empty")||s(e.parentNode,"is-disabled")?s(e,"pika-prev")?c.prevMonth():s(e,"pika-next")&&c.nextMonth():(c.setDate(new Date(e.getAttribute("data-pika-year"),e.getAttribute("data-pika-month"),e.getAttribute("data-pika-day"))),u.bound&&o((function(){c.hide(),u.blurFieldOnSelect&&u.field&&u.field.blur()}),100))),s(e,"pika-select"))c._c=!0;else{if(!t.preventDefault)return t.returnValue=!1,!1;t.preventDefault()}}},c._onChange=function(t){var e=(t=t||window.event).target||t.srcElement;e&&(s(e,"pika-select-month")?c.gotoMonth(e.value):s(e,"pika-select-year")&&c.gotoYear(e.value))},c._onKeyChange=function(t){if(t=t||window.event,c.isVisible())switch(t.keyCode){case 13:case 27:u.field&&u.field.blur();break;case 37:t.preventDefault(),c.adjustDate("subtract",1);break;case 38:c.adjustDate("subtract",7);break;case 39:c.adjustDate("add",1);break;case 40:c.adjustDate("add",7)}},c._onInputChange=function(n){var a;n.firedBy!==c&&(a=u.parse?u.parse(u.field.value,u.format):e?(a=t(u.field.value,u.format,u.formatStrict))&&a.isValid()?a.toDate():null:new Date(Date.parse(u.field.value)),f(a)&&c.setDate(a),c._v||c.show())},c._onInputFocus=function(){c.show()},c._onInputClick=function(){c.show()},c._onInputBlur=function(){var t=a.activeElement;do{if(s(t,"pika-single"))return}while(t=t.parentNode);c._c||(c._b=o((function(){c.hide()}),50)),c._c=!1},c._onClick=function(t){var e=(t=t||window.event).target||t.srcElement,a=e;if(e){!n&&s(e,"pika-select")&&(e.onchange||(e.setAttribute("onchange","return;"),r(e,"change",c._onChange)));do{if(s(a,"pika-single")||a===u.trigger)return}while(a=a.parentNode);c._v&&e!==u.trigger&&a!==u.trigger&&c.hide()}},c.el=a.createElement("div"),c.el.className="pika-single"+(u.isRTL?" is-rtl":"")+(u.theme?" "+u.theme:""),r(c.el,"mousedown",c._onMouseDown,!0),r(c.el,"touchend",c._onMouseDown,!0),r(c.el,"change",c._onChange),u.keyboardInput&&r(a,"keydown",c._onKeyChange),u.field&&(u.container?u.container.appendChild(c.el):u.bound?a.body.appendChild(c.el):u.field.parentNode.insertBefore(c.el,u.field.nextSibling),r(u.field,"change",c._onInputChange),u.defaultDate||(e&&u.field.value?u.defaultDate=t(u.field.value,u.format).toDate():u.defaultDate=new Date(Date.parse(u.field.value)),u.setDefaultDate=!0));var l=u.defaultDate;f(l)?u.setDefaultDate?c.setDate(l,!0):c.gotoDate(l):c.gotoDate(new Date),u.bound?(this.hide(),c.el.className+=" is-bound",r(u.trigger,"click",c._onInputClick),r(u.trigger,"focus",c._onInputFocus),r(u.trigger,"blur",c._onInputBlur)):this.show()};return x.prototype={config:function(t){this._o||(this._o=g({},w,!0));var e=g(this._o,t,!0);e.isRTL=!!e.isRTL,e.field=e.field&&e.field.nodeName?e.field:null,e.theme="string"==typeof e.theme&&e.theme?e.theme:null,e.bound=!!(void 0!==e.bound?e.field&&e.bound:e.field),e.trigger=e.trigger&&e.trigger.nodeName?e.trigger:e.field,e.disableWeekends=!!e.disableWeekends,e.disableDayFn="function"==typeof e.disableDayFn?e.disableDayFn:null;var n=parseInt(e.numberOfMonths,10)||1;if(e.numberOfMonths=n>4?4:n,f(e.minDate)||(e.minDate=!1),f(e.maxDate)||(e.maxDate=!1),e.minDate&&e.maxDate&&e.maxDate<e.minDate&&(e.maxDate=e.minDate=!1),e.minDate&&this.setMinDate(e.minDate),e.maxDate&&this.setMaxDate(e.maxDate),l(e.yearRange)){var a=(new Date).getFullYear()-10;e.yearRange[0]=parseInt(e.yearRange[0],10)||a,e.yearRange[1]=parseInt(e.yearRange[1],10)||a}else e.yearRange=Math.abs(parseInt(e.yearRange,10))||w.yearRange,e.yearRange>100&&(e.yearRange=100);return e},toString:function(n){return n=n||this._o.format,f(this._d)?this._o.toString?this._o.toString(this._d,n):e?t(this._d).format(n):this._d.toDateString():""},getMoment:function(){return e?t(this._d):null},setMoment:function(n,a){e&&t.isMoment(n)&&this.setDate(n.toDate(),a)},getDate:function(){return f(this._d)?new Date(this._d.getTime()):null},setDate:function(t,e){if(!t)return this._d=null,this._o.field&&(this._o.field.value="",b(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof t&&(t=new Date(Date.parse(t))),f(t)){var n=this._o.minDate,a=this._o.maxDate;f(n)&&t<n?t=n:f(a)&&t>a&&(t=a),this._d=new Date(t.getTime()),m(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),b(this._o.field,"change",{firedBy:this})),e||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(t){var e=!0;if(f(t)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),a=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),o=t.getTime();a.setMonth(a.getMonth()+1),a.setDate(a.getDate()-1),e=o<n.getTime()||a.getTime()<o}e&&(this.calendars=[{month:t.getMonth(),year:t.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(t,e){var n,a=this.getDate()||new Date,o=24*parseInt(e)*60*60*1e3;"add"===t?n=new Date(a.valueOf()+o):"subtract"===t&&(n=new Date(a.valueOf()-o)),this.setDate(n)},adjustCalendars:function(){this.calendars[0]=v(this.calendars[0]);for(var t=1;t<this._o.numberOfMonths;t++)this.calendars[t]=v({month:this.calendars[0].month+t,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(t){isNaN(t)||(this.calendars[0].month=parseInt(t,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(t){isNaN(t)||(this.calendars[0].year=parseInt(t,10),this.adjustCalendars())},setMinDate:function(t){t instanceof Date?(m(t),this._o.minDate=t,this._o.minYear=t.getFullYear(),this._o.minMonth=t.getMonth()):(this._o.minDate=w.minDate,this._o.minYear=w.minYear,this._o.minMonth=w.minMonth,this._o.startRange=w.startRange),this.draw()},setMaxDate:function(t){t instanceof Date?(m(t),this._o.maxDate=t,this._o.maxYear=t.getFullYear(),this._o.maxMonth=t.getMonth()):(this._o.maxDate=w.maxDate,this._o.maxYear=w.maxYear,this._o.maxMonth=w.maxMonth,this._o.endRange=w.endRange),this.draw()},setStartRange:function(t){this._o.startRange=t},setEndRange:function(t){this._o.endRange=t},draw:function(t){if(this._v||t){var e,n=this._o,a=n.minYear,r=n.maxYear,i=n.minMonth,s=n.maxMonth,c="";this._y<=a&&(this._y=a,!isNaN(i)&&this._m<i&&(this._m=i)),this._y>=r&&(this._y=r,!isNaN(s)&&this._m>s&&(this._m=s)),e="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var u=0;u<n.numberOfMonths;u++)c+='<div class="pika-lendar">'+D(this,u,this.calendars[u].year,this.calendars[u].month,this.calendars[0].year,e)+this.render(this.calendars[u].year,this.calendars[u].month,e)+"</div>";this.el.innerHTML=c,n.bound&&"hidden"!==n.field.type&&o((function(){n.trigger.focus()}),1),"function"==typeof this._o.onDraw&&this._o.onDraw(this),n.bound&&n.field.setAttribute("aria-label",n.ariaLabel)}},adjustPosition:function(){var t,e,n,o,r,i,s,l,f,d,h,p;if(!this._o.container){if(this.el.style.position="absolute",e=t=this._o.trigger,n=this.el.offsetWidth,o=this.el.offsetHeight,r=window.innerWidth||a.documentElement.clientWidth,i=window.innerHeight||a.documentElement.clientHeight,s=window.pageYOffset||a.body.scrollTop||a.documentElement.scrollTop,h=!0,p=!0,"function"==typeof t.getBoundingClientRect)l=(d=t.getBoundingClientRect()).left+window.pageXOffset,f=d.bottom+window.pageYOffset;else for(l=e.offsetLeft,f=e.offsetTop+e.offsetHeight;e=e.offsetParent;)l+=e.offsetLeft,f+=e.offsetTop;(this._o.reposition&&l+n>r||this._o.position.indexOf("right")>-1&&l-n+t.offsetWidth>0)&&(l=l-n+t.offsetWidth,h=!1),(this._o.reposition&&f+o>i+s||this._o.position.indexOf("top")>-1&&f-o-t.offsetHeight>0)&&(f=f-o-t.offsetHeight,p=!1),this.el.style.left=l+"px",this.el.style.top=f+"px",c(this.el,h?"left-aligned":"right-aligned"),c(this.el,p?"bottom-aligned":"top-aligned"),u(this.el,h?"right-aligned":"left-aligned"),u(this.el,p?"top-aligned":"bottom-aligned")}},render:function(t,e,n){var a=this._o,o=new Date,r=p(t,e),i=new Date(t,e,1).getDay(),s=[],c=[];m(o),a.firstDay>0&&(i-=a.firstDay)<0&&(i+=7);for(var u=0===e?11:e-1,l=11===e?0:e+1,h=0===e?t-1:t,g=11===e?t+1:t,b=p(h,u),v=r+i,w=v;w>7;)w-=7;v+=7-w;for(var D,x,j,M,T=!1,C=0,S=0;C<v;C++){var P=new Date(t,e,C-i+1),N=!!f(this._d)&&y(P,this._d),R=y(P,o),E=-1!==a.events.indexOf(P.toDateString()),A=C<i||C>=r+i,U=C-i+1,I=e,L=t,W=a.startRange&&y(a.startRange,P),Y=a.endRange&&y(a.endRange,P),F=a.startRange&&a.endRange&&a.startRange<P&&P<a.endRange;A&&(C<i?(U=b+U,I=u,L=h):(U-=r,I=l,L=g));var q={day:U,month:I,year:L,hasEvent:E,isSelected:N,isToday:R,isDisabled:a.minDate&&P<a.minDate||a.maxDate&&P>a.maxDate||a.disableWeekends&&d(P)||a.disableDayFn&&a.disableDayFn(P),isEmpty:A,isStartRange:W,isEndRange:Y,isInRange:F,showDaysInNextAndPreviousMonths:a.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:a.enableSelectionDaysInNextAndPreviousMonths};a.pickWholeWeek&&N&&(T=!0),c.push(_(q)),7==++S&&(a.showWeekNumber&&c.unshift((D=C-i,x=e,j=t,M=void 0,void 0,M=new Date(j,0,1),'<td class="pika-week">'+Math.ceil(((new Date(j,x,D)-M)/864e5+M.getDay()+1)/7)+"</td>")),s.push(O(c,a.isRTL,a.pickWholeWeek,T)),c=[],S=0,T=!1)}return function(t,e,n){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+n+'">'+function(t){var e,n=[];t.showWeekNumber&&n.push("<th></th>");for(e=0;e<7;e++)n.push('<th scope="col"><abbr title="'+k(t,e)+'">'+k(t,e,!0)+"</abbr></th>");return"<thead><tr>"+(t.isRTL?n.reverse():n).join("")+"</tr></thead>"}(t)+(a=e,"<tbody>"+a.join("")+"</tbody></table>");var a}(a,s,n)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),u(this.el,"is-hidden"),this._o.bound&&(r(a,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var t=this._v;!1!==t&&(this._o.bound&&i(a,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",c(this.el,"is-hidden"),this._v=!1,void 0!==t&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){var t=this._o;this.hide(),i(this.el,"mousedown",this._onMouseDown,!0),i(this.el,"touchend",this._onMouseDown,!0),i(this.el,"change",this._onChange),t.keyboardInput&&i(a,"keydown",this._onKeyChange),t.field&&(i(t.field,"change",this._onInputChange),t.bound&&(i(t.trigger,"click",this._onInputClick),i(t.trigger,"focus",this._onInputFocus),i(t.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},x}(o)}()},function(t,e,n){var a=n(10),o=n(28);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r={insert:"head",singleton:!1};a(o,r);t.exports=o.locals||{}},function(t,e,n){(e=n(11)(!1)).push([t.i,'body.dashboard_page_koko-analytics{overflow-x:hidden}#koko-analytics-admin h1{padding:0;margin:0 0 12px}#koko-analytics-admin .grid{display:grid;grid-gap:12px;grid-template-columns:repeat(6, 1fr)}#koko-analytics-admin .one{grid-column:span 1}#koko-analytics-admin .two{grid-column:span 2}#koko-analytics-admin .three{grid-column:span 3}#koko-analytics-admin .four{grid-column:span 4}#koko-analytics-admin .five{grid-column:span 5}#koko-analytics-admin .six{grid-column:span 6}#koko-analytics-admin .box-grid{display:grid;grid-gap:12px;grid-template-columns:8fr 2fr 2fr;border-top:1px dashed #EEE;padding:6px 12px;text-align:left}@media (max-width: 320px){#koko-analytics-admin .nav{grid-row:1;grid-column:span 6}}#koko-analytics-admin .subsubsub{display:block;float:right;line-height:20px;margin:0;padding:6px 0;font-size:13px;text-align:left}#koko-analytics-admin .box{background:white;border-radius:6px;border:1px solid #DDD;grid-column:span 3;margin-bottom:12px}@media (max-width: 800px){#koko-analytics-admin .box{grid-column:span 6}}#koko-analytics-admin .box .head{font-weight:bold;font-size:1.1em;padding:6px 12px;border:0}#koko-analytics-admin .box .body{padding-bottom:6px}#koko-analytics-admin .box .muted{width:24px;display:inline-block;color:#757575;font-size:0.9em}#koko-analytics-admin .box .amount-col{text-align:right}#koko-analytics-admin .box .url-col{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}#koko-analytics-admin .input-group{margin-bottom:24px}#koko-analytics-admin .input-group label{margin-bottom:6px}#koko-analytics-admin .input-group input,#koko-analytics-admin .input-group select{margin-bottom:6px}#koko-analytics-admin .input-group input[type="radio"],#koko-analytics-admin .input-group input[type="checkbox"]{margin-bottom:0}#koko-analytics-admin .input-group .help{margin-top:0}#koko-analytics-admin label{display:block;font-size:1.2em;font-weight:bold;margin-bottom:6px}#koko-analytics-admin label.cb{font-size:1em;font-weight:normal}#koko-analytics-admin select{margin:0;min-width:320px}#koko-analytics-admin select[multiple]{min-height:160px}#koko-analytics-admin .pagination{color:#757575;cursor:pointer;display:inline-block;margin-left:12px}#koko-analytics-admin .pagination .prev,#koko-analytics-admin .pagination .next{display:inline-block;padding:0 4px}#koko-analytics-admin .pagination .prev:hover,#koko-analytics-admin .pagination .prev:focus,#koko-analytics-admin .pagination .next:hover,#koko-analytics-admin .pagination .next:focus{transform:scale(1.4);transition:transform .2s}#koko-analytics-admin .pagination .prev.hidden,#koko-analytics-admin .pagination .next.hidden{display:initial;visibility:hidden}#koko-analytics-admin .pagination .prev.disabled,#koko-analytics-admin .pagination .next.disabled{opacity:0.4}#koko-analytics-admin .pagination .prev.disabled:hover,#koko-analytics-admin .pagination .prev.disabled:focus,#koko-analytics-admin .pagination .next.disabled:hover,#koko-analytics-admin .pagination .next.disabled:focus{transform:none;cursor:initial}@media (max-width: 320px){#koko-analytics-admin .pagination{margin-left:6px}#koko-analytics-admin .pagination .prev,#koko-analytics-admin .pagination .next{padding:0}}#koko-analytics-admin .margin-s{margin:24px 0}#koko-analytics-admin .margin-m{margin:48px 0}#koko-analytics-admin .margin-l{margin:72px 0}#koko-analytics-admin .fade{animation:fadein 0.4s}#koko-analytics-admin .left{float:left}#koko-analytics-admin .right{float:right}#koko-analytics-admin .flex{display:flex}#koko-analytics-admin .cf:after{content:"";display:table;clear:both}@keyframes fadein{from{opacity:0}to{opacity:1}}\n',""]),t.exports=e},function(t,e){if("undefined"==typeof moment){var n=new Error("Cannot find module 'moment'");throw n.code="MODULE_NOT_FOUND",n}t.exports=moment},function(t,e,n){var a=n(10),o=n(31);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r={insert:"head",singleton:!1};a(o,r);t.exports=o.locals||{}},function(t,e,n){(e=n(11)(!1)).push([t.i,'/*!\n * Pikaday\n * Copyright © 2014 David Bushell | BSD & MIT license | https://dbushell.com/\n */.pika-single{z-index:9999;display:block;position:relative;color:#333;background:#fff;border:1px solid #ccc;border-bottom-color:#bbb;font-family:"Helvetica Neue", Helvetica, Arial, sans-serif}.pika-single:before,.pika-single:after{content:" ";display:table}.pika-single:after{clear:both}.pika-single{*zoom:1}.pika-single.is-hidden{display:none}.pika-single.is-bound{position:absolute;box-shadow:0 5px 15px -5px rgba(0,0,0,0.5)}.pika-lendar{float:left;width:240px;margin:8px}.pika-title{position:relative;text-align:center}.pika-label{display:inline-block;*display:inline;position:relative;z-index:9999;overflow:hidden;margin:0;padding:5px 3px;font-size:14px;line-height:20px;font-weight:bold;background-color:#fff}.pika-title select{cursor:pointer;position:absolute;z-index:9998;margin:0;left:0;top:5px;filter:alpha(opacity=0);opacity:0}.pika-prev,.pika-next{display:block;cursor:pointer;position:relative;outline:none;border:0;padding:0;width:20px;height:30px;text-indent:20px;white-space:nowrap;overflow:hidden;background-color:transparent;background-position:center center;background-repeat:no-repeat;background-size:75% 75%;opacity:.5;*position:absolute;*top:0}.pika-prev:hover,.pika-next:hover{opacity:1}.pika-prev,.is-rtl .pika-next{float:left;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAAUklEQVR42u3VMQoAIBADQf8Pgj+OD9hG2CtONJB2ymQkKe0HbwAP0xucDiQWARITIDEBEnMgMQ8S8+AqBIl6kKgHiXqQqAeJepBo/z38J/U0uAHlaBkBl9I4GwAAAABJRU5ErkJggg==");*left:0}.pika-next,.is-rtl .pika-prev{float:right;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAAU0lEQVR42u3VOwoAMAgE0dwfAnNjU26bYkBCFGwfiL9VVWoO+BJ4Gf3gtsEKKoFBNTCoCAYVwaAiGNQGMUHMkjGbgjk2mIONuXo0nC8XnCf1JXgArVIZAQh5TKYAAAAASUVORK5CYII=");*right:0}.pika-prev.is-disabled,.pika-next.is-disabled{cursor:default;opacity:.2}.pika-select{display:inline-block;*display:inline}.pika-table{width:100%;border-collapse:collapse;border-spacing:0;border:0}.pika-table th,.pika-table td{width:14.285714285714286%;padding:0}.pika-table th{color:#999;font-size:12px;line-height:25px;font-weight:bold;text-align:center}.pika-button{cursor:pointer;display:block;box-sizing:border-box;-moz-box-sizing:border-box;outline:none;border:0;margin:0;width:100%;padding:5px;color:#666;font-size:12px;line-height:15px;text-align:right;background:#f5f5f5}.pika-week{font-size:11px;color:#999}.is-today .pika-button{color:#33aaff;font-weight:bold}.is-selected .pika-button,.has-event .pika-button{color:#fff;font-weight:bold;background:#33aaff;box-shadow:inset 0 1px 3px #178fe5;border-radius:3px}.has-event .pika-button{background:#005da9;box-shadow:inset 0 1px 3px #0076c9}.is-disabled .pika-button,.is-inrange .pika-button{background:#D5E9F7}.is-startrange .pika-button{color:#fff;background:#6CB31D;box-shadow:none;border-radius:3px}.is-endrange .pika-button{color:#fff;background:#33aaff;box-shadow:none;border-radius:3px}.is-disabled .pika-button{pointer-events:none;cursor:default;color:#999;opacity:.3}.is-outside-current-month .pika-button{color:#999;opacity:.3}.is-selection-disabled{pointer-events:none;cursor:default}.pika-button:hover,.pika-row.pick-whole-week:hover .pika-button{color:#fff;background:#ff8000;box-shadow:none;border-radius:3px}.pika-table abbr{border-bottom:none;cursor:help}\n',""]),t.exports=e},function(t,e,n){var a=n(10),o=n(33);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r={insert:"head",singleton:!1};a(o,r);t.exports=o.locals||{}},function(t,e,n){(e=n(11)(!1)).push([t.i,"#koko-analytics-admin .date-nav{position:relative;margin-bottom:12px}#koko-analytics-admin .date-label{cursor:pointer;padding:6px;border:1px solid #DDD;border-radius:6px;display:inline-block;background:white;line-height:20px}@media (max-width: 320px){#koko-analytics-admin .date-label .dashicons{display:none}}#koko-analytics-admin .date-label .dashicons{margin-right:2px}#koko-analytics-admin .date-picker-ui{background:white;width:auto;z-index:20;border-radius:6px;position:absolute;margin-top:6px;box-shadow:2px 2px 12px 0px rgba(0,0,0,0.5)}#koko-analytics-admin .date-quicknav{background:#2e363f;border-top-left-radius:6px;border-top-right-radius:6px;color:white;text-align:center;padding:12px;font-weight:bold;font-size:1.1em}#koko-analytics-admin .date-quicknav .prev,#koko-analytics-admin .date-quicknav .next{margin:0 6px;color:white}#koko-analytics-admin .date-quicknav .prev:hover,#koko-analytics-admin .date-quicknav .prev:focus,#koko-analytics-admin .date-quicknav .next:hover,#koko-analytics-admin .date-quicknav .next:focus{cursor:pointer;transform:scale(1.4);transition:transform .2s}#koko-analytics-admin .date-presets{padding:12px 24px 12px 12px;border-right:1px solid #DDD;min-width:100px}#koko-analytics-admin .date-presets strong{display:block;padding:6px 0}#koko-analytics-admin .date-presets a{display:block;padding:4px 0}#koko-analytics-admin .date-picker{padding:12px}@media (min-width: 680px){#koko-analytics-admin .date-picker{min-width:480px}}#koko-analytics-admin .date-picker .pika-lendar{margin:0}#koko-analytics-admin .pika-single{color:inherit;border:0}#koko-analytics-admin .pika-label{font-size:inherit;font-weight:normal}#koko-analytics-admin .pika-prev,#koko-analytics-admin .pika-next{opacity:0.3}\n",""]),t.exports=e},function(t,e,n){var a=n(10),o=n(35);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r={insert:"head",singleton:!1};a(o,r);t.exports=o.locals||{}},function(t,e,n){(e=n(11)(!1)).push([t.i,"#koko-analytics-admin .totals-container{background:#2e363f;color:white;padding:24px;margin-bottom:12px;display:flex;border-radius:6px}#koko-analytics-admin .totals-box{display:block;margin-right:48px}#koko-analytics-admin .totals-box:last-of-type{margin-right:0}@media (max-width: 320px){#koko-analytics-admin .totals-box{margin-right:36px}}#koko-analytics-admin .totals-label{color:#EEE;margin-bottom:6px;font-size:14px}#koko-analytics-admin .totals-amount{display:block;line-height:48px;font-size:48px;font-weight:500;letter-spacing:-1px;margin-bottom:6px}#koko-analytics-admin .totals-amount span{font-size:0.4em;font-weight:normal;vertical-align:top;letter-spacing:normal}#koko-analytics-admin .totals-compare{color:#EEE}#koko-analytics-admin .neutral{color:#aaa}#koko-analytics-admin .up{color:#32cd32}#koko-analytics-admin .down{color:#fb7272}\n",""]),t.exports=e},,function(t,e,n){"use strict";n.r(e);n(27);var a=n(0),o=n(24),r=n(6),i=n.n(r),s=n(15),c=n(26),u=n.n(c),l=(n(30),n(32),n(7)),f=n(4),d=n(3),h=n(2);function p(t,e){Object(h.a)(2,arguments);var n=Object(d.a)(t),a=Object(f.a)(e);return isNaN(a)?new Date(NaN):a?(n.setDate(n.getDate()+a),n):n}var m=n(1),y=parseInt(window.koko_analytics.start_of_week),g=[{key:"last_28_days",label:Object(m.__)("Last 28 days","koko-analytics"),dates:function(){var t=new Date;return{startDate:new Date(t.getFullYear(),t.getMonth(),t.getDate()-28,0,0,0),endDate:new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59)}}},{key:"today",label:Object(m.__)("Today","koko-analytics"),dates:function(){var t=new Date;return{startDate:new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0),endDate:new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59)}}},{key:"this_week",label:Object(m.__)("This week","koko-analytics"),dates:function(){var t=new Date,e=t.getDate()-t.getDay()+y;t.getDay()<y&&(e-=7);var n=new Date(t.getFullYear(),t.getMonth(),e,0,0,0),a=new Date(t.getFullYear(),n.getMonth(),n.getDate()+6,23,59,59);return{startDate:n,endDate:a}}},{key:"this_month",label:Object(m.__)("This month","koko-analytics"),dates:function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),1,0,0,0),n=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59);return{startDate:e,endDate:n}}},{key:"this_quarter",label:Object(m.__)("This quarter","koko-analytics"),dates:function(){var t=new Date,e=new Date(t.getFullYear(),3*(Math.ceil((t.getMonth()+1)/3)-1),1,0,0,0),n=new Date(e.getFullYear(),e.getMonth()+3,0,23,59,59);return{startDate:e,endDate:n}}},{key:"this_year",label:Object(m.__)("This year","koko-analytics"),dates:function(){var t=new Date,e=new Date(t.getFullYear(),0,1,0,0,0),n=new Date(e.getFullYear(),12,0,23,59,59);return{startDate:e,endDate:n}}}],b=n(13);function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=T(t);if(e){var o=T(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return j(this,n)}}function j(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?M(t):e}function M(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var C=parseInt(window.koko_analytics.start_of_week),S=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}(i,t);var e,n,o,r=x(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=r.call(this,t)).state={open:!1,picking:!1,startDate:new Date(t.startDate.getTime()),endDate:new Date(t.endDate.getTime())},e.datepicker=null,e.datepickerContainer=null,e.toggle=e.toggle.bind(M(e)),e.maybeClose=e.maybeClose.bind(M(e)),e.setPeriod=e.setPeriod.bind(M(e)),e.onKeydown=e.onKeydown.bind(M(e)),e}return e=i,(n=[{key:"componentDidMount",value:function(){var t=this;document.body.addEventListener("click",this.maybeClose),document.body.addEventListener("keydown",this.onKeydown);var e=this.datepicker=new u.a({field:document.getElementById("start-date-input"),bound:!1,firstDay:C,numberOfMonths:window.innerWidth>680?2:1,enableSelectionDaysInNextAndPreviousMonths:!0,showDaysInNextAndPreviousMonths:!0,keyboardInput:!1,onSelect:function(n){var a={picking:!t.state.picking};!t.state.picking||null===t.state.startDate||n<t.state.startDate?(n.setHours(0,0,0),a=k(k({},a),{},{startDate:n,endDate:null}),e.setStartRange(n),e.setEndRange(null)):(n.setHours(23,59,59),a=k(k({},a),{},{endDate:n}),e.setEndRange(n),t.props.onUpdate(t.state.startDate,n)),t.setState(a),e.draw()},container:this.datepickerContainer});this.datepicker.setStartRange(this.state.startDate),this.datepicker.setEndRange(this.state.endDate),this.datepicker.gotoDate(this.state.endDate)}},{key:"componentWillUnmount",value:function(){this.datepicker.destroy(),document.body.removeEventListener("click",this.maybeClose),document.body.removeEventListener("keydown",this.onKeydown)}},{key:"toggle",value:function(){this.setState({open:!this.state.open})}},{key:"maybeClose",value:function(t){if(this.state.open){for(var e=t.target;null!==e;e=e.parentNode)if("string"==typeof e.className&&(e.className.indexOf("date-picker-ui")>-1||e.className.indexOf("date-label")>-1))return;this.toggle()}}},{key:"setPeriod",value:function(t){var e=this;return function(n){n.preventDefault();var a=t.dates(),o=a.startDate,r=a.endDate;e.setDates(o,r)}}},{key:"setDates",value:function(t,e){this.datepicker.setStartRange(t),this.datepicker.setEndRange(e),this.datepicker.gotoDate(e),this.setState({startDate:t,endDate:e}),this.props.onUpdate(t,e)}},{key:"onKeydown",value:function(t){"ArrowLeft"!==t.key&&"ArrowRight"!==t.key||this.quickNav("ArrowLeft"===t.key?"prev":"next")}},{key:"onQuickNavClick",value:function(t){var e=this;return function(n){n.preventDefault(),e.quickNav(t)}}},{key:"quickNav",value:function(t){var e=this.state,n=e.startDate,a=e.endDate,o=(a.getTime()-n.getTime())/1e3,r=Math.round(o/86400),i="prev"===t?-1:1;if(1===n.getDate()&&Object(b.a)(a)){var s=a.getMonth()-n.getMonth()+1;n=new Date(n.getFullYear(),n.getMonth()+s*i,1,0,0,0),a=new Date(a.getFullYear(),a.getMonth()+s*i+1,0,23,59,59)}else n=p(n,r*i),a=p(a,r*i);this.setDates(n,a)}},{key:"render",value:function(t,e){var n=this,o=e.open,r=t.startDate,i=t.endDate;return Object(a.h)("div",{className:"date-nav"},Object(a.h)("div",null,Object(a.h)("div",{className:"date-label",onClick:this.toggle},Object(a.h)("span",{className:"dashicons dashicons-calendar-alt"}),Object(a.h)("span",null,Object(l.a)(r,"MMM d, yyyy")),Object(a.h)("span",null," — "),Object(a.h)("span",null,Object(l.a)(i,"MMM d, yyyy")))),Object(a.h)("div",{className:"date-picker-ui",style:{display:o?"":"none"}},Object(a.h)("div",{className:"date-quicknav cf"},Object(a.h)("span",{onClick:this.onQuickNavClick("prev"),className:"prev dashicons dashicons-arrow-left",title:Object(m.__)("Previous","koko-analytics")}),Object(a.h)("span",{className:"date"},Object(a.h)("span",null,Object(l.a)(r,"MMM d, yyyy")),Object(a.h)("span",null," — "),Object(a.h)("span",null,Object(l.a)(i,"MMM d, yyyy"))),Object(a.h)("span",{onClick:this.onQuickNavClick("next"),className:"next dashicons dashicons-arrow-right",title:Object(m.__)("Next","koko-analytics")})),Object(a.h)("div",{className:"flex"},Object(a.h)("div",{className:"date-presets"},Object(a.h)("strong",null,Object(m.__)("Date presets","koko-analytics")),g.map((function(t){return Object(a.h)("a",{href:"",onClick:n.setPeriod(t)},t.label)}))),Object(a.h)("div",{className:"date-picker"},Object(a.h)("div",{ref:function(t){n.datepickerContainer=t}})))),Object(a.h)("input",{type:"hidden",id:"start-date-input"}))}}])&&O(e.prototype,n),o&&O(e,o),i}(a.Component);S.propTypes={startDate:i.a.instanceOf(Date).isRequired,endDate:i.a.instanceOf(Date).isRequired,onUpdate:i.a.func.isRequired};n(34);var P=n(8),N=n(5);function R(t){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function A(t,e){return(A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=W(t);if(e){var o=W(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return I(this,n)}}function I(t,e){return!e||"object"!==R(e)&&"function"!=typeof e?L(t):e}function L(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}(i,t);var e,n,o,r=U(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=r.call(this,t)).state={pageviews:0},e.loadData=e.loadData.bind(L(e)),e}return e=i,(n=[{key:"componentDidMount",value:function(){this.loadData(),this.refreshInterval=window.setInterval(this.loadData,6e4)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.refreshInterval)}},{key:"loadData",value:function(){var t=this;N.a.request("/realtime",{body:{since:"-1 hour"}}).then((function(e){t.setState({pageviews:e})}))}},{key:"render",value:function(t,e){var n=e.pageviews;return Object(a.h)("div",{className:"totals-box fade",key:"realtime-pageviews"},Object(a.h)("div",{className:"totals-label"},Object(m.__)("Realtime pageviews","koko-analytics")),Object(a.h)("div",{className:"totals-amount"},P.a.formatPretty(n)),Object(a.h)("div",{className:"totals-compare"},Object(a.h)("span",null,Object(a.h)("span",null,Object(m.__)("pageviews in the last hour","koko-analytics")))))}}])&&E(e.prototype,n),o&&E(e,o),i}(a.Component);function F(t){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function B(t,e){return(B=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function H(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=G(t);if(e){var o=G(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return z(this,n)}}function z(t,e){return!e||"object"!==F(e)&&"function"!=typeof e?Q(t):e}function Q(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G(t){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var X=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B(t,e)}(i,t);var e,n,o,r=H(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=r.call(this,t)).state={visitors:0,visitorsChange:0,visitorsDiff:0,visitorsPrevious:0,pageviews:0,pageviewsChange:0,pageviewsDiff:0,pageviewsPrevious:0,hash:"initial"},e.loadData=e.loadData.bind(Q(e)),e.autoRefresh=e.autoRefresh.bind(Q(e)),e}return e=i,(n=[{key:"componentDidMount",value:function(){this.loadData(),this.refreshInterval=window.setInterval(this.autoRefresh,6e4)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.refreshInterval)}},{key:"componentDidUpdate",value:function(t,e,n){this.props.startDate.getTime()===t.startDate.getTime()&&this.props.endDate.getTime()===t.endDate.getTime()||this.loadData()}},{key:"autoRefresh",value:function(){var t=new Date;this.props.startDate<t&&this.props.endDate>t&&this.loadData()}},{key:"loadData",value:function(){var t=this,e=this.props,n=e.startDate,a=e.endDate,o=a.getTime()-n.getTime()+1,r=new Date(n.getTime()-o),i=new Date(a.getTime()-o),s=0,c=0,u=0,l=0,f=0,d=0,h=0,p=0;Promise.all([N.a.request("/stats",{body:{start_date:N.a.formatDate(this.props.startDate),end_date:N.a.formatDate(this.props.endDate)}}).then((function(t){t.forEach((function(t){s+=parseInt(t.visitors),c+=parseInt(t.pageviews)}))})),N.a.request("/stats",{body:{start_date:N.a.formatDate(r),end_date:N.a.formatDate(i)}}).then((function(t){t.forEach((function(t){h+=parseInt(t.visitors),p+=parseInt(t.pageviews)}))}))]).then((function(){h>0&&(f=s-h,u=Math.round(100*(s/h-1))),p>0&&(d=c-p,l=Math.round(100*(c/p-1)));var e=N.a.formatDate(t.props.startDate)+"-"+N.a.formatDate(t.props.endDate);t.setState({visitors:s,visitorsPrevious:h,visitorsDiff:f,visitorsChange:u,pageviews:c,pageviewsPrevious:p,pageviewsDiff:d,pageviewsChange:l,hash:e})}))}},{key:"render",value:function(){var t=this.state,e=t.visitors,n=t.visitorsDiff,o=t.visitorsChange,r=t.pageviews,i=t.pageviewsDiff,s=t.pageviewsChange,c=t.hash;return Object(a.h)("div",{className:"totals-container"},Object(a.h)("div",{className:"totals-box fade",key:c+"-visitors"},Object(a.h)("div",{className:"totals-label"},Object(m.__)("Total visitors","koko-analytics")),Object(a.h)("div",{className:"totals-amount"},P.a.formatPretty(e)," ",Object(a.h)("span",{className:o>0?"up":0===o?"neutral":"down"},P.a.formatPercentage(o))),Object(a.h)("div",{className:"totals-compare"},Object(a.h)("span",null,P.a.formatPretty(Math.abs(n))," ",n>0?Object(m.__)("more than previous period","koko-analytics"):Object(m.__)("less than previous period","koko-analytics")))),Object(a.h)("div",{className:"totals-box fade",key:c+"-pageviews"},Object(a.h)("div",{className:"totals-label"},Object(m.__)("Total pageviews","koko-analytics")),Object(a.h)("div",{className:"totals-amount"},P.a.formatPretty(r)," ",Object(a.h)("span",{className:s>0?"up":0===s?"neutral":"down"},P.a.formatPercentage(s))),Object(a.h)("div",{className:"totals-compare"},Object(a.h)("span",null,P.a.formatPretty(Math.abs(i))," ",i>0?Object(m.__)("more than previous period","koko-analytics"):Object(m.__)("less than previous period","koko-analytics")))),Object(a.h)(Y,null))}}])&&q(e.prototype,n),o&&q(e,o),i}(a.Component);function V(t){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function $(t,e){return($=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=et(t);if(e){var o=et(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return tt(this,n)}}function tt(t,e){return!e||"object"!==V(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function et(t){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}X.propTypes={startDate:i.a.instanceOf(Date).isRequired,endDate:i.a.instanceOf(Date).isRequired};var nt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$(t,e)}(i,t);var e,n,o,r=Z(i);function i(){return K(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"handleClick",value:function(t){var e=this,n=this.props,a=n.offset,o=n.limit,r=n.total;return function(){if(!("prev"===t&&0===a||"next"===t&&r<o)){var n="prev"===t?-1:1,i=Math.max(0,a+o*n);e.props.onUpdate(i)}}}},{key:"render",value:function(t){var e=t.offset,n=t.limit,o=t.total;return Object(a.h)("div",{className:"pagination"},Object(a.h)("span",{className:"prev "+(0===e?"disabled":""),title:Object(m.__)("Previous","koko-analytics"),onClick:this.handleClick("prev")},Object(a.h)("span",{className:"dashicons dashicons-arrow-left"})),Object(a.h)("span",{className:"next "+(o<n?"disabled":""),title:Object(m.__)("Next","koko-analytics"),onClick:this.handleClick("next")},Object(a.h)("span",{className:"dashicons dashicons-arrow-right"})))}}])&&J(e.prototype,n),o&&J(e,o),i}(a.Component);function at(t){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ot(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function rt(t,e){return(rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function it(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=ut(t);if(e){var o=ut(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return st(this,n)}}function st(t,e){return!e||"object"!==at(e)&&"function"!=typeof e?ct(t):e}function ct(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ut(t){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}nt.propTypes={offset:i.a.number.isRequired,limit:i.a.number.isRequired,total:i.a.number.isRequired,onUpdate:i.a.func.isRequired};var lt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rt(t,e)}(i,t);var e,n,o,r=it(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=r.call(this,t)).state={offset:0,limit:25,items:[]},e.loadData=e.loadData.bind(ct(e)),e.autoRefresh=e.autoRefresh.bind(ct(e)),e}return e=i,(n=[{key:"componentDidMount",value:function(){this.loadData(),this.refreshInterval=window.setInterval(this.autoRefresh,6e4)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.refreshInterval)}},{key:"componentDidUpdate",value:function(t,e,n){this.props.startDate.getTime()===t.startDate.getTime()&&this.props.endDate.getTime()===t.endDate.getTime()||this.loadData()}},{key:"autoRefresh",value:function(){var t=new Date;this.props.startDate<t&&this.props.endDate>t&&this.loadData()}},{key:"loadData",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.offset;N.a.request("/posts",{body:{start_date:N.a.formatDate(this.props.startDate),end_date:N.a.formatDate(this.props.endDate),offset:e,limit:this.state.limit}}).then((function(n){t.setState({items:n,offset:e})}))}},{key:"render",value:function(){var t=this.state,e=t.offset,n=t.limit,o=t.items;return Object(a.h)("div",{className:"box fade top-posts"},Object(a.h)("div",{className:"head box-grid"},Object(a.h)("div",{className:""},Object(a.h)("span",{className:"muted"},"#"),Object(m.__)("Pages","koko-analytics"),Object(a.h)(nt,{offset:e,limit:n,total:o.length,onUpdate:this.loadData})),Object(a.h)("div",{className:"amount-col",title:Object(m.__)("A visitor represents the number of sessions during which a page was viewed one or more times.","koko-analytics")},Object(m.__)("Visitors","koko-analytics")),Object(a.h)("div",{className:"amount-col",title:Object(m.__)("A pageview is defined as a view of a page on your site. If a user clicks reload after reaching the page, this is counted as an additional pageview. If a visitor navigates to a different page and then returns to the original page, a second pageview is recorded as well.","koko-analytics")},Object(m.__)("Pageviews","koko-analytics"))),Object(a.h)("div",{className:"body"},o.map((function(t,n){return Object(a.h)("div",{key:t.id,className:"box-grid fade"},Object(a.h)("div",null,Object(a.h)("span",{className:"muted"},e+n+1),Object(a.h)("a",{href:t.post_permalink},t.post_title||"(no title)")),Object(a.h)("div",{className:"amount-col"},Math.max(1,t.visitors)),Object(a.h)("div",{className:"amount-col"},t.pageviews))})),0===o.length&&Object(a.h)("div",{className:"box-grid"},Object(m.__)("There's nothing here, yet!","koko-analytics"))))}}])&&ot(e.prototype,n),o&&ot(e,o),i}(a.Component);function ft(t){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dt(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function ht(t,e){return(ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=gt(t);if(e){var o=gt(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return mt(this,n)}}function mt(t,e){return!e||"object"!==ft(e)&&"function"!=typeof e?yt(t):e}function yt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gt(t){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}lt.propTypes={startDate:i.a.instanceOf(Date).isRequired,endDate:i.a.instanceOf(Date).isRequired};var bt=/^https?:\/\/(www\.)?(.+?)\/?$/;function vt(t){return t.displayUrl=t.url.replace(bt,"$2"),0===t.url.indexOf("https://t.co/")?t.url="https://twitter.com/search?q="+encodeURI(t.url):0===t.url.indexOf("android-app://")&&(t.displayUrl=t.url.replace("android-app://","Android app: "),t.url=t.url.replace("android-app://","https://play.google.com/store/apps/details?id=")),t}var wt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ht(t,e)}(i,t);var e,n,o,r=pt(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=r.call(this,t)).state={offset:0,limit:25,items:[]},e.loadData=e.loadData.bind(yt(e)),e.autoRefresh=e.autoRefresh.bind(yt(e)),e}return e=i,(n=[{key:"componentDidMount",value:function(){this.loadData(),this.refreshInterval=window.setInterval(this.autoRefresh,6e4)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.refreshInterval)}},{key:"componentDidUpdate",value:function(t,e,n){this.props.startDate.getTime()===t.startDate.getTime()&&this.props.endDate.getTime()===t.endDate.getTime()||this.loadData()}},{key:"autoRefresh",value:function(){var t=new Date;this.props.startDate<t&&this.props.endDate>t&&this.loadData()}},{key:"loadData",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.offset;N.a.request("/referrers",{body:{start_date:N.a.formatDate(this.props.startDate),end_date:N.a.formatDate(this.props.endDate),offset:e,limit:this.state.limit}}).then((function(n){n=n.map(vt),t.setState({items:n,offset:e})}))}},{key:"render",value:function(){var t=this.state,e=t.offset,n=t.limit,o=t.items;return Object(a.h)("div",{className:"box fade top-referrers"},Object(a.h)("div",{className:"box-grid head"},Object(a.h)("div",{className:""},Object(a.h)("span",{className:"muted"},"#"),Object(m.__)("Referrers","koko-analytics"),Object(a.h)(nt,{offset:e,limit:n,total:o.length,onUpdate:this.loadData})),Object(a.h)("div",{className:"amount-col"},Object(m.__)("Visitors","koko-analytics")),Object(a.h)("div",{className:"amount-col"},Object(m.__)("Pageviews","koko-analytics"))),Object(a.h)("div",{className:"body"},o.map((function(t,n){return Object(a.h)("div",{key:t.id,className:"box-grid fade"},Object(a.h)("div",{className:"url-col"},Object(a.h)("span",{className:"muted"},e+n+1),t.url.length?Object(a.h)("a",{href:t.url},t.displayUrl):t.displayUrl),Object(a.h)("div",{className:"amount-col"},Math.max(t.visitors,1)),Object(a.h)("div",{className:"amount-col"},t.pageviews))})),0===o.length&&Object(a.h)("div",{className:"box-grid"},Object(m.__)("There's nothing here, yet!","koko-analytics"))))}}])&&dt(e.prototype,n),o&&dt(e,o),i}(a.Component);wt.propTypes={startDate:i.a.instanceOf(Date).isRequired,endDate:i.a.instanceOf(Date).isRequired};var kt=n(25);function _t(){return window.koko_analytics.showSettings?Object(a.h)("div",{className:"two nav"},Object(a.h)("ul",{className:"subsubsub"},Object(a.h)("li",null,Object(a.h)(kt.Link,{href:"/",exact:!0,activeClassName:"current"},Object(m.__)("Stats","koko-analytics"))," | "),Object(a.h)("li",null,Object(a.h)(kt.Link,{href:"/settings",activeClassName:"current"},Object(m.__)("Settings","koko-analytics"))))):null}function Ot(t){return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function xt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dt(Object(n),!0).forEach((function(e){jt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function jt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mt(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function Tt(t,e){return(Tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Nt(t);if(e){var o=Nt(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return St(this,n)}}function St(t,e){return!e||"object"!==Ot(e)&&"function"!=typeof e?Pt(t):e}function Pt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nt(t){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Rt=window.koko_analytics.settings,Et=function(t){return t<10?"0"+t:t},At=function(t){return"".concat(t.getFullYear(),"-").concat(Et(t.getMonth()+1),"-").concat(Et(t.getDate()))};var Ut=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tt(t,e)}(i,t);var e,n,o,r=Ct(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=r.call(this,t)).state=xt(xt({},e.setDatesFromDefaultView()),e.parseStateFromLocation(window.location.hash)),e.setDates=e.setDates.bind(Pt(e)),e}return e=i,(n=[{key:"componentDidMount",value:function(){var t=this;this.unlisten=this.props.history.listen((function(e,n){"POP"===n&&t.setState(t.parseStateFromLocation(e.search))}))}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"setDatesFromDefaultView",value:function(){return(g.filter((function(t){return t.key===Rt.default_view})).shift()||g[0]).dates()}},{key:"parseStateFromLocation",value:function(t){var e=t.indexOf("?");if(-1===e)return{};var n=function(t){for(var e,n={},a=t.split("&"),o=0;o<a.length;o++)n[(e=a[o].split("="))[0]]=decodeURIComponent(e[1]);return n}(t.substring(e+1));if(!n.start_date||!n.end_date)return{};var a=function(t){var e=t.split("-").map((function(t){return parseInt(t)}));if(3!==e.length)return null;var n=e[0],a=e[1]-1,o=e[2];return n<2e3||n>2100||a<0||a>11||o<0||o>31?null:new Date(n,a,o)},o=a(n.start_date),r=a(n.end_date);return o&&r?(o.setHours(0,0,0),r.setHours(23,59,59),{startDate:o,endDate:r}):{}}},{key:"setDates",value:function(t,e){t.getTime()===this.state.startDate.getTime()&&e.getTime()===this.state.endDate.getTime()||(this.setState({startDate:t,endDate:e}),t=At(t),e=At(e),this.props.history.push("/?start_date=".concat(t,"&end_date=").concat(e)))}},{key:"render",value:function(t,e){var n=e.startDate,o=e.endDate;return Object(a.h)("main",null,Object(a.h)("div",null,Object(a.h)("div",{className:"grid"},Object(a.h)("div",{className:"four"},Object(a.h)(S,{startDate:n,endDate:o,onUpdate:this.setDates})),Object(a.h)(_t,null)),Object(a.h)(X,{startDate:n,endDate:o}),Object(a.h)(s.a,{startDate:n,endDate:o,width:document.getElementById("koko-analytics-mount").clientWidth}),Object(a.h)("div",{className:"grid"},Object(a.h)(lt,{startDate:n,endDate:o}),Object(a.h)(wt,{startDate:n,endDate:o})),Object(a.h)("div",null,Object(a.h)("span",{className:"description right"},Object(m.__)("Tip: use the arrow keys to quickly cycle through date ranges.","koko-analytics")))))}}])&&Mt(e.prototype,n),o&&Mt(e,o),i}(a.Component);function It(t){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lt(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function Wt(t,e){return(Wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Bt(t);if(e){var o=Bt(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return Ft(this,n)}}function Ft(t,e){return!e||"object"!==It(e)&&"function"!=typeof e?qt(t):e}function qt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bt(t){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Ut.propTypes={history:i.a.object.isRequired};var Ht=window.koko_analytics,zt=window.koko_analytics.user_roles,Qt=window.koko_analytics.settings,Gt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wt(t,e)}(i,t);var e,n,o,r=Yt(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=r.call(this,t)).state={settings:Qt,saving:!1,buttonText:Object(m.__)("Save Changes","koko-analytics")},e.onSubmit=e.onSubmit.bind(qt(e)),e}return e=i,(n=[{key:"onSubmit",value:function(t){var e=this;t.preventDefault(),this.setState({saving:!0,buttonText:Object(m.__)("Saving - please wait","koko-analytics")});var n=new Date;N.a.request("/settings",{method:"POST",body:Qt}).then((function(t){window.setTimeout((function(){e.setState({buttonText:Object(m.__)("Saved!","koko-analytics")})}),Math.max(20,400-(+new Date-n)))})).finally((function(){e.setState({saving:!1}),window.setTimeout((function(){e.setState({buttonText:Object(m.__)("Save Changes","koko-analytics")})}),4e3)}))}},{key:"handleRadioClick",value:function(t){var e=this;return function(n){Qt[t]=parseInt(n.target.value),e.setState({settings:Qt})}}},{key:"render",value:function(t,e){var n=this,o=e.saving,r=e.buttonText,i=e.settings;return Object(a.h)("main",null,Object(a.h)("div",{className:"grid"},Object(a.h)("div",{className:"four"},Object(a.h)("h1",null,Object(m.__)("Settings","koko-analytics")),Object(a.h)("form",{method:"POST",onSubmit:this.onSubmit},Object(a.h)("div",{className:"input-group"},Object(a.h)("label",null,Object(m.__)("Exclude pageviews from these user roles","koko-analytics")),Object(a.h)("select",{name:"exclude_user_roles[]",multiple:!0,onChange:function(t){i.exclude_user_roles=[].filter.call(t.target.options,(function(t){return t.selected})).map((function(t){return t.value})),n.setState({settings:i})}},Object.keys(zt).map((function(t){return Object(a.h)("option",{key:t,value:t,selected:i.exclude_user_roles.indexOf(t)>-1},zt[t])}))),Object(a.h)("p",{className:"help"},Object(m.__)("Visits and pageviews from users with any of the selected roles will be ignored.","koko-analytics")," ",Object(m.__)("Use CTRL to select multiple options.","koko-analytics"))),Object(a.h)("div",{className:"input-group"},Object(a.h)("label",null,Object(m.__)("Use cookie to determine unique visitors and pageviews?","koko-analytics")),Object(a.h)("label",{className:"cb"},Object(a.h)("input",{type:"radio",name:"use_cookie",value:1,onChange:this.handleRadioClick("use_cookie"),checked:1===i.use_cookie})," ",Object(m.__)("Yes","koko-analytics")),Object(a.h)("label",{className:"cb"},Object(a.h)("input",{type:"radio",name:"use_cookie",value:0,onChange:this.handleRadioClick("use_cookie"),checked:0===i.use_cookie})," ",Object(m.__)("No","koko-analytics")),Object(a.h)("p",{className:"help"},Object(m.__)('Set to "no" if you do not want to use a cookie. Without the use of a cookie, Koko Analytics can not reliably detect returning visitors.',"koko-analytics"))),Object(a.h)("div",{className:"input-group"},Object(a.h)("label",null,Object(m.__)("Default date period","koko-analytics")),Object(a.h)("select",{name:"exclude_user_roles[]",onChange:function(t){i.default_view=t.target.value,n.setState({settings:i})}},g.map((function(t){return Object(a.h)("option",{value:t.key,selected:i.default_view===t.key},t.label)}))),Object(a.h)("p",{className:"help"},Object(m.__)("The default date period to show when opening the analytics dashboard.","koko-analytics"))),Object(a.h)("div",{className:"input-group"},Object(a.h)("label",null,Object(m.__)("Automatically delete data older than how many months?","koko-analytics")),Object(a.h)("input",{type:"number",value:i.prune_data_after_months,onChange:function(t){i.prune_data_after_months=parseInt(t.target.value),n.setState({settings:i})},step:1,min:0,max:600})," ",Object(m.__)("months","koko-analytics"),Object(a.h)("p",{className:"help"},Object(m.__)("Statistics older than the number of months configured here will automatically be deleted. Set to 0 to disable.","koko-analytics"))),Object(a.h)("div",{className:"input-group"},Object(a.h)("p",null,Object(a.h)("button",{type:"submit",className:"button button-primary",disabled:o},r))),Object(a.h)("div",{className:"margin-m"},Object(a.h)("p",{className:"help"},Object(m.__)("Database size:","koko-analytics")," ",Ht.dbSize," MB")))),Object(a.h)(_t,null)))}}])&&Lt(e.prototype,n),o&&Lt(e,o),i}(a.Component);function Xt(){return(Xt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}function Vt(t){return"/"===t.charAt(0)}function Kt(t,e){for(var n=e,a=n+1,o=t.length;a<o;n+=1,a+=1)t[n]=t[a];t.pop()}var Jt=function(t,e){void 0===e&&(e="");var n,a=t&&t.split("/")||[],o=e&&e.split("/")||[],r=t&&Vt(t),i=e&&Vt(e),s=r||i;if(t&&Vt(t)?o=a:a.length&&(o.pop(),o=o.concat(a)),!o.length)return"/";if(o.length){var c=o[o.length-1];n="."===c||".."===c||""===c}else n=!1;for(var u=0,l=o.length;l>=0;l--){var f=o[l];"."===f?Kt(o,l):".."===f?(Kt(o,l),u++):u&&(Kt(o,l),u--)}if(!s)for(;u--;u)o.unshift("..");!s||""===o[0]||o[0]&&Vt(o[0])||o.unshift("");var d=o.join("/");return n&&"/"!==d.substr(-1)&&(d+="/"),d};var $t=function(t,e){if(!t)throw new Error("Invariant failed")};function Zt(t){return"/"===t.charAt(0)?t:"/"+t}function te(t){return"/"===t.charAt(0)?t.substr(1):t}function ee(t,e){return function(t,e){return 0===t.toLowerCase().indexOf(e.toLowerCase())&&-1!=="/?#".indexOf(t.charAt(e.length))}(t,e)?t.substr(e.length):t}function ne(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function ae(t){var e=t.pathname,n=t.search,a=t.hash,o=e||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),a&&"#"!==a&&(o+="#"===a.charAt(0)?a:"#"+a),o}function oe(t,e,n,a){var o;"string"==typeof t?(o=function(t){var e=t||"/",n="",a="",o=e.indexOf("#");-1!==o&&(a=e.substr(o),e=e.substr(0,o));var r=e.indexOf("?");return-1!==r&&(n=e.substr(r),e=e.substr(0,r)),{pathname:e,search:"?"===n?"":n,hash:"#"===a?"":a}}(t)).state=e:(void 0===(o=Xt({},t)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==e&&void 0===o.state&&(o.state=e));try{o.pathname=decodeURI(o.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return n&&(o.key=n),a?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=Jt(o.pathname,a.pathname)):o.pathname=a.pathname:o.pathname||(o.pathname="/"),o}function re(){var t=null;var e=[];return{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,a,o){if(null!=t){var r="function"==typeof t?t(e,n):t;"string"==typeof r?"function"==typeof a?a(r,o):o(!0):o(!1!==r)}else o(!0)},appendListener:function(t){var n=!0;function a(){n&&t.apply(void 0,arguments)}return e.push(a),function(){n=!1,e=e.filter((function(t){return t!==a}))}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];e.forEach((function(t){return t.apply(void 0,n)}))}}}var ie=!("undefined"==typeof window||!window.document||!window.document.createElement);function se(t,e){e(window.confirm(t))}var ce={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+te(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:te,decodePath:Zt},slash:{encodePath:Zt,decodePath:Zt}};function ue(t){var e=t.indexOf("#");return-1===e?t:t.slice(0,e)}function le(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)}function fe(t){window.location.replace(ue(window.location.href)+"#"+t)}var de=function(t){void 0===t&&(t={}),ie||$t(!1);var e=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),t),a=n.getUserConfirmation,o=void 0===a?se:a,r=n.hashType,i=void 0===r?"slash":r,s=t.basename?ne(Zt(t.basename)):"",c=ce[i],u=c.encodePath,l=c.decodePath;function f(){var t=l(le());return s&&(t=ee(t,s)),oe(t)}var d=re();function h(t){Xt(x,t),x.length=e.length,d.notifyListeners(x.location,x.action)}var p=!1,m=null;function y(){var t,e,n=le(),a=u(n);if(n!==a)fe(a);else{var r=f(),i=x.location;if(!p&&(e=r,(t=i).pathname===e.pathname&&t.search===e.search&&t.hash===e.hash))return;if(m===ae(r))return;m=null,function(t){if(p)p=!1,h();else{d.confirmTransitionTo(t,"POP",o,(function(e){e?h({action:"POP",location:t}):function(t){var e=x.location,n=w.lastIndexOf(ae(e));-1===n&&(n=0);var a=w.lastIndexOf(ae(t));-1===a&&(a=0);var o=n-a;o&&(p=!0,k(o))}(t)}))}}(r)}}var g=le(),b=u(g);g!==b&&fe(b);var v=f(),w=[ae(v)];function k(t){e.go(t)}var _=0;function O(t){1===(_+=t)&&1===t?window.addEventListener("hashchange",y):0===_&&window.removeEventListener("hashchange",y)}var D=!1,x={length:e.length,action:"POP",location:v,createHref:function(t){var e=document.querySelector("base"),n="";return e&&e.getAttribute("href")&&(n=ue(window.location.href)),n+"#"+u(s+ae(t))},push:function(t,e){var n=oe(t,void 0,void 0,x.location);d.confirmTransitionTo(n,"PUSH",o,(function(t){if(t){var e=ae(n),a=u(s+e);if(le()!==a){m=e,function(t){window.location.hash=t}(a);var o=w.lastIndexOf(ae(x.location)),r=w.slice(0,o+1);r.push(e),w=r,h({action:"PUSH",location:n})}else h()}}))},replace:function(t,e){var n=oe(t,void 0,void 0,x.location);d.confirmTransitionTo(n,"REPLACE",o,(function(t){if(t){var e=ae(n),a=u(s+e);le()!==a&&(m=e,fe(a));var o=w.indexOf(ae(x.location));-1!==o&&(w[o]=e),h({action:"REPLACE",location:n})}}))},go:k,goBack:function(){k(-1)},goForward:function(){k(1)},block:function(t){void 0===t&&(t=!1);var e=d.setPrompt(t);return D||(O(1),D=!0),function(){return D&&(D=!1,O(-1)),e()}},listen:function(t){var e=d.appendListener(t);return O(1),function(){O(-1),e()}}};return x}();Object(a.render)(Object(a.h)((function(){return Object(a.h)(o.default,{history:de},Object(a.h)(Ut,{path:"/",history:de}),Object(a.h)(Gt,{path:"/settings"}))}),null),document.getElementById("koko-analytics-mount"))}]);
//# sourceMappingURL=admin.js.map